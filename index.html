<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Velocity Lab: Timeline Guide</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
  <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
  <nav>
    <div class="brand">Velocity Lab</div>
    <div class="auth">
      <span id="username" class="username"></span>
      <a href="/register.html">Register</a>
      <a href="/login.html">Login</a>
      <a href="#" id="logout" style="display: none;">Logout</a>
    </div>
  </nav>
  <div class="container">
    <header class="header">
      <h1>Velocity Lab</h1>
      <h2>Timeline Guide to Implement the Lab</h2>
    </header>
    <div class="prerequisites">
      <h3>Lab Prerequisites</h3>
      <ul>
        <li>Create a Microsoft 365 free trial at <a href="https://www.microsoft.com/en-us/microsoft-365/try">microsoft.com</a> (for Entra ID to support hybrid identity and mailboxes for Exchange testing in Week 4).</li>
        <li>An old laptop (minimum 8GB RAM, 100GB disk) to use as a mock server for lab exercises.</li>
        <li>Install VirtualBox from <a href="https://www.virtualbox.org">virtualbox.org</a>, configured with bridged networking to share the laptop’s IP range (e.g., 192.168.1.x).</li>
        <li>Request a static IP from your ISP (~R25/month, e.g., Afrihost or Telkom) for consistent external mail access.</li>
        <li>Open firewall ports 25 (SMTP), 587 (SMTPS), 443 (HTTPS), and 993 (IMAPS) on all virtual servers (Windows Firewall or Linux iptables), the laptop (host OS firewall), and your home router (port forwarding to the laptop’s IP).</li>
        <li>Ensure stable internet connectivity (minimum 10 Mbps) for all lab machines to access Microsoft 365 and updates.</li>
      </ul>
    </div>
    <div class="timeline">
      <!-- Week 1 -->
      <div class="week animate" data-week="1">
        <div class="week-content">
          <div class="week-badge">1</div>
          <div class="week-card">
            <div class="week-title">
              <div class="week-icon">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 6h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2"/></svg>
              </div>
              Foundation Setup
            </div>
            <div class="task" data-task="promote-dc">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Domain Controller Icon"><path d="M4 6h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2m0 2v4h16V8H4m8 1a1 1 0 1 1-1 1 1 1 0 0 1 1-1m-8 6h4v2H4v-2m6 0h4v2h-4v-2m6 0h4v2h-4v-2"/></svg>
              </div>
              <div class="task-content">
                <h4>Promote Server 2012 to Domain Controller</h4>
                <div class="task-details">Set up Active Directory and DNS services</div>
              </div>
            </div>
            <div class="task" data-task="join-vm">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="VM Icon"><path d="M4 4h16v12H4V4m2 2v8h12V6H6m2 8h8v2H8v-2"/></svg>
              </div>
              <div class="task-content">
                <h4>Join VM to Domain</h4>
                <div class="task-details">Enable domain-based management</div>
              </div>
            </div>
            <div class="task" data-task="network-share">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Network Share Icon"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6m2 10h8v2H8v-2m0 4h5v2H8v-2"/></svg>
              </div>
              <div class="task-content">
                <h4>Configure Network Share on DC</h4>
                <div class="task-details">Create centralized file storage with secure access</div>
                <div class="subtasks">
                  <div class="subtask">Map drives automatically on logon</div>
                  <div class="subtask">Use hidden share with $ suffix</div>
                  <div class="subtask">Map three drives using GPO, PowerShell, and logon scripts</div>
                </div>
              </div>
            </div>
            <div class="task" data-task="security-group">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Security Group Icon"><path d="M12 4a4 4 0 1 1 0 8 4 4 0 0 1 0-8m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4"/></svg>
              </div>
              <div class="task-content">
                <h4>Create Security Group</h4>
                <div class="task-details">Restrict network share access to authorized users</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Week 2 -->
      <div class="week animate" data-week="2">
        <div class="week-content">
          <div class="week-badge">2</div>
          <div class="week-card">
            <div class="week-title">
              <div class="week-icon">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M4 6h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2"/></svg>
              </div>
              Infrastructure Expansion
            </div>
            <div class="task" data-task="install-server">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Server Icon"><path d="M4 6h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2m0 2v4h16V8H4m8 1a1 1 0 1 1-1 1 1 1 0 0 1 1-1m-8 6h4v2H4v-2m6 0h4v2h-4v-2m6 0h4v2h-4v-2"/></svg>
              </div>
              <div class="task-content">
                <h4>Install Second Server 2012</h4>
                <div class="task-details">Add redundancy to the environment</div>
              </div>
            </div>
            <div class="task" data-task="setup-wsus">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="WSUS Icon"><path d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20m1 5v4h4v2h-4v4h-2v-4H7v-2h4V9h2"/></svg>
              </div>
              <div class="task-content">
                <h4>Setup WSUS</h4>
                <div class="task-details">Manage updates with Windows Server Update Services</div>
              </div>
            </div>
            <div class="task" data-task="time-servers">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Time Server Icon"><path d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20m0 2a8 8 0 1 0 0 16 8 8 0 0 0 0-16m0 2v6h4v2h-6V6h2"/></svg>
              </div>
              <div class="task-content">
                <h4>Configure Two Time Servers</h4>
                <div class="task-details">Ensure time synchronization across the domain</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Week 3 -->
      <div class="week animate" data-week="3">
        <div class="week-content">
          <div class="week-badge">3</div>
          <div class="week-card">
            <div class="week-title">
              <div class="week-icon">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2"/></svg>
              </div>
              Email & Messaging
            </div>
            <div class="task" data-task="upgrade-servers">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Server Upgrade Icon"><path d="M12 2a10 10 0 1 1 0 20 10 10 0 0 1 0-20m-1 3h2v4l4 4-1.41 1.41-3.59-3.59V11h-2V7"/></svg>
              </div>
              <div class="task-content">
                <h4>Upgrade Servers to 2016</h4>
                <div class="task-details">Modernize infrastructure for enhanced capabilities</div>
              </div>
            </div>
            <div class="task" data-task="install-exchange">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Exchange Server Icon"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2"/></svg>
              </div>
              <div class="task-content">
                <h4>Install Exchange Server 2019</h4>
                <div class="task-details">Deploy email services on a third server</div>
              </div>
            </div>
            <div class="task" data-task="create-mailbox">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Mailbox Icon"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2"/></svg>
              </div>
              <div class="task-content">
                <h4>Create User Mailboxes</h4>
                <div class="task-details">Set up email accounts for users</div>
              </div>
            </div>
            <div class="task" data-task="internal-mail">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Mail Flow Icon"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2"/></svg>
              </div>
              <div class="task-content">
                <h4>Setup Internal Mail Flow</h4>
                <div class="task-details">Enable email delivery between users</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Week 4 -->
      <div class="week animate" data-week="4">
        <div class="week-content">
          <div class="week-badge">4</div>
          <div class="week-card">
            <div class="week-title">
              <div class="week-icon">
                <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M19 18H6a4 4 0 0 1-4-4 4 4 0 0 1 4-4h.71a5.5 5.5 0 0 1 0-1A5.37 5.37 0 0 1 12 3.59a5.26 5.26 0 0 1 5.33 4.71A4.33 4.33 0 0 1 22 13a4.5 4.5 0 0 1-3 4.2"/></svg>
              </div>
              Cloud Integration
            </div>
            <div class="task" data-task="external-mail">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="External Mail Icon"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2"/></svg>
              </div>
              <div class="task-content">
                <h4>Publish Mail Externally</h4>
                <div class="task-details">Enable secure external email access</div>
                <div class="subtasks">
                  <div class="subtask">Configure MX, SPF, DKIM, and DMARC records</div>
                  <div class="subtask">Enable modern authentication (OAuth 2.0)</div>
                  <div class="subtask">Set up TLS certificates and reverse DNS</div>
                </div>
              </div>
            </div>
            <div class="task" data-task="m365-hybrid">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Microsoft 365 Hybrid Icon"><path d="M19 18H6a4 4 0 0 1-4-4 4 4 0 0 1 4-4h.71a5.5 5.5 0 0 1 0-1A5.37 5.37 0 0 1 12 3.59a5.26 5.26 0 0 1 5.33 4.71A4.33 4.33 0 0 1 22 13a4.5 4.5 0 0 1-3 4.2"/></svg>
              </div>
              <div class="task-content">
                <h4>Setup Microsoft 365 Hybrid Environment</h4>
                <div class="task-details">Integrate on-premises Exchange with Microsoft 365</div>
                <div class="subtasks">
                  <div class="subtask">Configure Entra ID Connect for hybrid identity</div>
                  <div class="subtask">Run Hybrid Configuration Wizard</div>
                  <div class="subtask">Verify mail flow and calendar sharing</div>
                </div>
              </div>
            </div>
            <div class="task" data-task="hosting-env">
              <div class="task-icon">
                <svg viewBox="0 0 24 24" aria-label="Hosting Environment Icon"><path d="M19 18H6a4 4 0 0 1-4-4 4 4 0 0 1 4-4h.71a5.5 5.5 0 0 1 0-1A5.37 5.37 0 0 1 12 3.59a5.26 5.26 0 0 1 5.33 4.71A4.33 4.33 0 0 1 22 13a4.5 4.5 0 0 1-3 4.2"/></svg>
              </div>
              <div class="task-content">
                <h4>Choose Hosting Environment</h4>
                <div class="task-details">Select Azure or on-premises for deployment</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal" id="taskModal" role="dialog" aria-labelledby="modalTitle" aria-modal="true">
    <div class="modal-content">
      <button class="close-btn" id="closeModal" aria-label="Close modal">×</button>
      <h2 id="modalTitle"></h2>
      <section id="modalDescription"></section>
    </div>
  </div>
  <script src="/js/main.js"></script>
  <script>
    const taskDetails = {
      "promote-dc": {
        title: "Promote Server 2012 to Domain Controller",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Promoting a Windows Server 2012 to a Domain Controller (DC) establishes Active Directory (AD) and DNS services for centralized management.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Windows Server 2012 with updates.</li>
              <li>Static IP address.</li>
              <li>Administrator credentials.</li>
              <li>Network connectivity.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Log in as administrator. Open Server Manager.</li>
              <li>Click "Add roles and features." Install "Active Directory Domain Services."</li>
              <li>Post-installation, promote the server to a DC via the notification flag.</li>
              <li>Create a new forest (e.g., corp.example.com). Set functional levels to 2012.</li>
              <li>Configure DNS and DSRM password. Reboot after completion.</li>
              <li>Verify AD and DNS using AD Users and Computers and DNS Manager.</li>
              <li>Optional: Use PowerShell: <code>Install-WindowsFeature AD-Domain-Services -IncludeManagementTools</code>, then <code>Install-ADDSForest -DomainName corp.example.com</code>.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Verify static IP: <code>ipconfig /all</code>.</li>
              <li>Run <code>dcdiag</code> for AD diagnostics. Check Event Viewer for errors.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/deploy/install-active-directory-domain-services--ad-ds--in-windows-server">Microsoft Learn: Install AD DS</a></li>
              <li><a href="https://www.alitajran.com/install-and-configure-active-directory-domain-services/">ALI TAJRAN: Configure AD DS</a></li>
            </ul>
          </section>
        `
      },
      "join-vm": {
        title: "Join VM to Domain",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Joining a VM to the domain enables centralized management and authentication via Active Directory.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>VM with Windows Server or Windows 10/11.</li>
              <li>Operational DC with DNS.</li>
              <li>Domain admin credentials.</li>
              <li>DNS settings pointing to DC.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Open System Properties (Right-click Start > System).</li>
              <li>Click "Change" under Computer Name. Select "Domain" and enter corp.example.com.</li>
              <li>Provide domain admin credentials. Reboot.</li>
              <li>Verify in AD Users and Computers under Computers.</li>
              <li>Optional: Use PowerShell: <code>Add-Computer -DomainName corp.example.com -Credential (Get-Credential)</code>.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Check DNS settings: <code>ipconfig /all</code>.</li>
              <li>Test resolution: <code>nslookup corp.example.com</code>. Review Event Viewer.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/join-a-computer-to-a-domain">Microsoft Learn: Join a Domain</a></li>
              <li><a href="https://www.alitajran.com/join-computer-to-domain/">ALI TAJRAN: Join Computer to Domain</a></li>
            </ul>
          </section>
        `
      },
      "network-share": {
        title: "Configure Network Share on DC",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Create network shares for centralized file storage, mapped automatically on logon using three methods (GPO, PowerShell, logon script) with hidden shares ($).</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>DC with sufficient disk space.</li>
              <li>Domain admin credentials.</li>
              <li>Group Policy Management installed.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Create folders: C:\\Shares\\HR$, C:\\Shares\\PWD$, C:\\Shares\\Public.</li>
              <li>Share folders via Properties > Sharing. Add "Authenticated Users" with Read/Write.</li>
              <li>Set NTFS permissions via Security tab for hidden shares (e.g., HR_Access group).</li>
              <li>Create GPO "Drive Mapping" in Group Policy Management.</li>
              <li>Map drives under User Configuration > Preferences > Drive Maps (e.g., H: to \\[DCName]\\HR$).</li>
              <li>Create PowerShell script (map_drives.ps1):
                <pre><code>
net use H: \\[DCName]\\HR$
net use P: \\[DCName]\\PWD$
net use S: \\[DCName]\\Public
                </code></pre>
              </li>
              <li>Create logon script (map_public.bat): <code>net use S: \\[DCName]\\Public</code>.</li>
              <li>Link scripts to GPO under User Configuration > Scripts > Logon.</li>
              <li>Test drive mapping with a domain user.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Run <code>gpupdate /force</code> if drives don’t map.</li>
              <li>Verify GPO application: <code>gpresult /r</code>. Check share permissions.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/windows-server/storage/file-server/share-and-ntfs-permissions">Microsoft Learn: File Shares</a></li>
              <li><a href="https://www.alitajran.com/map-network-drive-with-group-policy/">ALI TAJRAN: Map Drives with GPO</a></li>
            </ul>
          </section>
        `
      },
      "security-group": {
        title: "Create Security Group",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Create a security group to restrict access to network shares, ensuring only authorized users can connect.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Active Directory domain.</li>
              <li>Domain admin privileges.</li>
              <li>Network shares configured.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Open Active Directory Users and Computers.</li>
              <li>Create a group in an OU (e.g., "HR_Access," Security, Global).</li>
              <li>Add users to the group via Members tab.</li>
              <li>Assign permissions to HR$ share via Properties > Security > Add HR_Access.</li>
              <li>Optional: Use PowerShell: <code>New-ADGroup -Name HR_Access -GroupCategory Security -GroupScope Global -Path "OU=Shares,DC=corp,DC=example,DC=com"</code>.</li>
              <li>Test access with a group member account.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Verify group membership in AD Users and Computers.</li>
              <li>Check permissions: <code>Get-Acl \\[Server]\\HR$ | Format-List</code>.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/windows-server/identity/ad-ds/manage/understand-security-groups">Microsoft Learn: Security Groups</a></li>
              <li><a href="https://www.alitajran.com/create-security-group-in-active-directory/">ALI TAJRAN: Create Security Group</a></li>
            </ul>
          </section>
        `
      },
      "install-server": {
        title: "Install Second Server 2012",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Install a second Windows Server 2012 to enhance redundancy and distribute load.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Windows Server 2012 ISO.</li>
              <li>Server or VM (4GB RAM, 40GB disk).</li>
              <li>Network connectivity.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Boot with Windows Server 2012 ISO.</li>
              <li>Install "Standard Edition (GUI)."</li>
              <li>Configure static IP in Network Settings.</li>
              <li>Join to domain (see "Join VM to Domain").</li>
              <li>Install updates via Server Manager.</li>
              <li>Verify connectivity: <code>ping [DCName]</code>.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Check ISO integrity if installation fails.</li>
              <li>Verify network settings: <code>ipconfig /all</code>.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/windows-server/get-started/install-windows-server">Microsoft Learn: Install Windows Server</a></li>
              <li><a href="https://www.alitajran.com/install-windows-server-2012-r2/">ALI TAJRAN: Install Windows Server 2012</a></li>
            </ul>
          </section>
        `
      },
      "setup-wsus": {
        title: "Setup WSUS",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Configure Windows Server Update Services (WSUS) to manage and distribute updates across the network.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Windows Server 2012.</li>
              <li>Internet connectivity.</li>
              <li>10GB+ disk space for updates.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>In Server Manager, add "Windows Server Update Services" role.</li>
              <li>Run WSUS Configuration Wizard.</li>
              <li>Store updates locally, select products (e.g., Windows, Office) and languages.</li>
              <li>Enable automatic synchronization daily.</li>
              <li>Approve updates in WSUS console under Updates > All Updates.</li>
              <li>Configure GPO: Set WSUS server in "Specify intranet Microsoft update service location."</li>
              <li>Test client update retrieval.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Verify GPO application: <code>gpresult /r</code>.</li>
              <li>Check WSUS connectivity: <code>netstat -an</code>. Review WSUS logs in Event Viewer.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/windows-server/administration/windows-server-update-services/deploy/deploy-windows-server-update-services">Microsoft Learn: Deploy WSUS</a></li>
              <li><a href="https://www.alitajran.com/install-and-configure-wsus-on-windows-server/">ALI TAJRAN: Configure WSUS</a></li>
            </ul>
          </section>
        `
      },
      "time-servers": {
        title: "Configure Two Time Servers",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Configure two Network Time Protocol (NTP) servers to ensure accurate time synchronization across the domain.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Two servers with internet access.</li>
              <li>UDP port 123 open.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>On the DC, open PowerShell as administrator.</li>
              <li>Configure NTP: <code>w32tm /config /manualpeerlist:"0.pool.ntp.org,0x8 1.pool.ntp.org,0x8" /syncfromflags:manual /reliable:yes /update</code>.</li>
              <li>Restart time service: <code>net stop w32time && net start w32time</code>.</li>
              <li>On the second server, set DC as time source: <code>w32tm /config /manualpeerlist:[DCName] /syncfromflags:manual /update</code>.</li>
              <li>Verify status: <code>w32tm /query /status</code>.</li>
              <li>Open firewall: <code>New-NetFirewallRule -DisplayName "NTP" -Direction Inbound -Protocol UDP -LocalPort 123 -Action Allow</code>.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Check NTP connectivity: <code>w32tm /stripchart /computer:0.pool.ntp.org</code>.</li>
              <li>Verify firewall rules: <code>Get-NetFirewallRule -DisplayName "NTP"</code>.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/windows-server/networking/windows-time-service/windows-time-service-tools-and-settings">Microsoft Learn: Windows Time Service</a></li>
              <li><a href="https://www.alitajran.com/configure-time-sync-windows-server/">ALI TAJRAN: Configure Time Sync</a></li>
            </ul>
          </section>
        `
      },
      "upgrade-servers": {
        title: "Upgrade Servers to 2016",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Upgrade both Windows Server 2012 instances to Windows Server 2016 for improved features and security.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Windows Server 2016 ISO.</li>
              <li>Full backup of servers.</li>
              <li>8GB RAM, 40GB disk space.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Back up all data and AD configuration.</li>
              <li>Run setup.exe from Server 2016 ISO. Select "Upgrade."</li>
              <li>Choose the same edition (e.g., Standard).</li>
              <li>Complete upgrade and reboot.</li>
              <li>Verify AD roles in Server Manager.</li>
              <li>Install latest updates.</li>
              <li>Check AD health: <code>dcdiag</code>, <code>repadmin /replsummary</code>.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Ensure hardware compatibility with Server 2016.</li>
              <li>Review Event Viewer for upgrade errors.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/windows-server/get-started/upgrade-windows-server">Microsoft Learn: Upgrade Windows Server</a></li>
              <li><a href="https://www.alitajran.com/upgrade-windows-server-2012-to-2016/">ALI TAJRAN: Upgrade to Server 2016</a></li>
            </ul>
          </section>
        `
      },
      "install-exchange": {
        title: "Install Exchange Server 2019",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Deploy Exchange Server 2019 on a third server to provide email services, supporting hybrid integration.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Windows Server 2019 (Standard or Datacenter).</li>
              <li>Exchange Server 2019 ISO.</li>
              <li>Domain and schema admin privileges.</li>
              <li>.NET Framework 4.8, Visual C++ Redistributable.</li>
              <li>16GB RAM, 30GB disk space.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Install Windows Server 2019, join domain.</li>
              <li>Prepare AD: <code>Setup.exe /PrepareSchema /IAcceptExchangeServerLicenseTerms_DiagnosticDataON</code>.</li>
              <li>Prepare domain: <code>Setup.exe /PrepareAD /OrganizationName:"[OrgName]" /IAcceptExchangeServerLicenseTerms_DiagnosticDataON</code>.</li>
              <li>Install prerequisites: .NET Framework, UCMA 4.0, etc.</li>
              <li>Run Exchange setup, select "Mailbox role."</li>
              <li>Configure via Exchange Admin Center (EAC): https://[Server]/ecp.</li>
              <li>Verify installation in EAC.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Ensure all prerequisites are installed.</li>
              <li>Check AD replication: <code>repadmin /replsummary</code>.</li>
              <li>Review setup logs: C:\\ExchangeSetupLogs.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/exchange/plan-and-deploy/deployment-ref/deployment-ref">Microsoft Learn: Exchange 2019 Deployment</a></li>
              <li><a href="https://www.alitajran.com/install-exchange-server-2019/">ALI TAJRAN: Install Exchange 2019</a></li>
              <li><a href="https://techcommunity.microsoft.com/t5/exchange-team-blog/exchange-server-2019-deployment-best-practices/ba-p/3928374">Tech Community: Exchange 2019 Best Practices</a></li>
            </ul>
          </section>
        `
      },
      "create-mailbox": {
        title: "Create User Mailboxes",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Create mailboxes in Exchange Server 2019 to enable email access for users.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Exchange Server 2019 operational.</li>
              <li>Active Directory user accounts.</li>
              <li>Access to Exchange Admin Center (EAC).</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Log in to EAC: https://[ExchangeServer]/ecp.</li>
              <li>Navigate to Recipients > Mailboxes > Add > User mailbox.</li>
              <li>Select or create an AD user, set email address (e.g., user@corp.example.com).</li>
              <li>Save and wait for mailbox creation.</li>
              <li>Optional: Use PowerShell: <code>New-Mailbox -Name "UserName" -UserPrincipalName user@corp.example.com -Password (ConvertTo-SecureString "P@ssw0rd" -AsPlainText -Force)</code>.</li>
              <li>Test access via Outlook or Outlook Web App (OWA).</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Ensure user exists in AD Users and Computers.</li>
              <li>Verify Exchange services: <code>Get-Service MSExchange*</code>.</li>
              <li>Check mailbox status in EAC.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/exchange/recipients/user-mailboxes/create-user-mailboxes">Microsoft Learn: Create Mailboxes</a></li>
              <li><a href="https://www.alitajran.com/create-user-mailbox-in-exchange/">ALI TAJRAN: Create Mailbox</a></li>
            </ul>
          </section>
        `
      },
      "internal-mail": {
        title: "Setup Internal Mail Flow",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Configure Exchange Server 2019 to enable reliable internal email delivery between users.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Exchange Server 2019 with mailboxes.</li>
              <li>Internal DNS configured.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>In EAC, verify domain under Mail Flow > Accepted Domains (e.g., corp.example.com).</li>
              <li>Ensure send/receive connectors are configured (default for internal).</li>
              <li>Test email between two mailboxes using Outlook or OWA.</li>
              <li>Optional: Verify mail flow: <code>Test-Mailflow [ServerName]</code>.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Check mailbox status in EAC.</li>
              <li>Review message tracking: <code>Get-MessageTrackingLog -EventId DELIVER</code>.</li>
              <li>Ensure DNS resolves: <code>nslookup mail.corp.example.com</code>.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/exchange/mail-flow/mail-routing/mail-routing">Microsoft Learn: Mail Flow</a></li>
              <li><a href="https://www.alitajran.com/configure-mail-flow-in-exchange-server/">ALI TAJRAN: Configure Mail Flow</a></li>
            </ul>
          </section>
        `
      },
      "external-mail": {
        title: "Publish Mail Externally",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Enable secure external email access by configuring DNS records, modern authentication, and TLS certificates.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Exchange Server 2019.</li>
              <li>Public domain with DNS access.</li>
              <li>Public IP address.</li>
              <li>TLS certificate (e.g., from Let’s Encrypt).</li>
              <li>Ports 25, 443 open.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Add MX record in DNS provider (e.g., mail.example.com, priority 10).</li>
              <li>Add SPF record: <code>v=spf1 ip4:[PublicIP] include:spf.protection.outlook.com -all</code>.</li>
              <li>Enable DKIM in EAC, add two CNAME records (e.g., selector1._domainkey).</li>
              <li>Add DMARC: <code>_dmarc.example.com TXT v=DMARC1; p=none; rua=mailto:dmarc@example.com;</code>.</li>
              <li>Install TLS certificate in EAC for SMTP and IIS services.</li>
              <li>Enable OAuth 2.0: <code>Set-OrganizationConfig -OAuth2ClientProfileEnabled $true</code>.</li>
              <li>Configure reverse DNS with ISP (PTR record).</li>
              <li>Test external email send/receive using an external account.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Verify DNS records using tools like MXToolbox.</li>
              <li>Check certificate status: <code>Test-ServiceHealth</code>.</li>
              <li>Review SMTP logs: C:\\Program Files\\Microsoft\\Exchange Server\\V15\\TransportRoles\\Logs.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/exchange/mail-flow-best-practices/use-dns-to-configure-mail-flow">Microsoft Learn: DNS for Mail Flow</a></li>
              <li><a href="https://www.alitajran.com/configure-dkim-exchange-server-2019/">ALI TAJRAN: Configure DKIM for Exchange 2019</a></li>
              <li><a href="https://techcommunity.microsoft.com/t5/exchange-team-blog/securing-exchange-mail-flow/ba-p/3928375">Tech Community: Secure Mail Flow</a></li>
            </ul>
          </section>
        `
      },
      "m365-hybrid": {
        title: "Setup Microsoft 365 Hybrid Environment",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Integrate on-premises Exchange Server 2019 with Microsoft 365 for a hybrid environment, enabling seamless mail flow and management.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Exchange Server 2019 with external mail configured.</li>
              <li>Microsoft 365 tenant with E3/E5 licenses.</li>
              <li>Verified domain in Microsoft 365.</li>
              <li>Windows Server for Entra ID Connect.</li>
              <li>Public TLS certificate.</li>
              <li>Ports 80, 443, 25 open.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Verify domain in Microsoft 365 admin center (add TXT record).</li>
              <li>Install Entra ID Connect on a server, enable Password Hash Synchronization and SSO.</li>
              <li>Confirm user synchronization in Microsoft 365 admin center.</li>
              <li>Run Hybrid Configuration Wizard (HCW) from EAC, select "Full Hybrid."</li>
              <li>Configure mail flow (bidirectional) and certificates in HCW.</li>
              <li>Test mail flow between on-premises and cloud mailboxes.</li>
              <li>Verify calendar sharing and free/busy in Outlook.</li>
              <li>Optional: Migrate a test mailbox to Microsoft 365 via EAC.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Check Entra ID Connect sync status in Synchronization Service Manager.</li>
              <li>Review HCW logs: C:\\ProgramData\\Microsoft\\Exchange Hybrid Configuration.</li>
              <li>Enable MRSProxy for free/busy: <code>Set-WebServicesVirtualDirectory -Identity "EWS (Default Web Site)" -MRSProxyEnabled $true</code>.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/exchange/exchange-hybrid">Microsoft Learn: Exchange Hybrid</a></li>
              <li><a href="https://www.alitajran.com/exchange-hybrid-configuration-wizard-2019/">ALI TAJRAN: Hybrid Configuration Wizard</a></li>
              <li><a href="https://techcommunity.microsoft.com/t5/exchange-hybrid-cloud/exchange-hybrid-deployment-best-practices/ba-p/3876930">Microsoft Tech Community: Exchange Hybrid Best Practices</a></li>
            </ul>
          </section>
        `
      },
      "hosting-env": {
        title: "Choose Hosting Environment",
        description: `
          <section>
            <h3>Overview</h3>
            <p>Evaluate Azure versus on-premises hosting for the hybrid environment, considering scalability, cost, and control.</p>
          </section>
          <section>
            <h3>Prerequisites</h3>
            <ul>
              <li>Microsoft 365 hybrid environment configured.</li>
              <li>Azure account with portal access.</li>
              <li>Details of on-premises infrastructure.</li>
            </ul>
          </section>
          <section>
            <h3>Step-by-Step Instructions</h3>
            <ol>
              <li>Log in to Azure portal (portal.azure.com).</li>
              <li>Explore Azure services (e.g., Azure Virtual Machines, Azure Active Directory).</li>
              <li>Estimate costs using Azure Pricing Calculator.</li>
              <li>Document on-premises hardware (CPU, RAM, storage).</li>
              <li>Assess on-premises control, security, and compliance requirements.</li>
              <li>Compare Azure’s scalability and certifications with on-premises constraints.</li>
              <li>Document recommendation: Azure for scalability or on-premises for control.</li>
            </ol>
          </section>
          <section>
            <h3>Troubleshooting Tips</h3>
            <ul>
              <li>Use Azure Cost Management for cost insights.</li>
              <li>Review Azure compliance: <a href="https://azure.microsoft.com/en-us/explore/global-infrastructure/compliance">Azure Compliance</a>.</li>
            </ul>
          </section>
          <section>
            <h3>References</h3>
            <ul>
              <li><a href="https://learn.microsoft.com/en-us/azure/architecture/hybrid/hybrid-deployment-options">Microsoft Learn: Hybrid Options</a></li>
              <li><a href="https://techcommunity.microsoft.com/t5/azure/choosing-between-azure-and-on-premises/ba-p/1876930">Tech Community: Azure vs. On-Premises</a></li>
            </ul>
          </section>
        `
      }
    };

    const modal = document.getElementById('taskModal');
    const modalTitle = document.getElementById('modalTitle');
    const modalDescription = document.getElementById('modalDescription');
    const closeModal = document.getElementById('closeModal');

    document.querySelectorAll('.task').forEach(task => {
      task.addEventListener('click', () => {
        const taskId = task.dataset.task;
        const details = taskDetails[taskId];
        if (details) {
          modalTitle.textContent = details.title;
          modalDescription.innerHTML = details.description;
          modal.style.display = 'flex';
          modal.focus();
        }
      });
    });

    closeModal.addEventListener('click', () => {
      modal.style.display = 'none';
    });

    window.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.style.display = 'none';
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.style.display === 'flex') {
        modal.style.display = 'none';
      }
    });

    // Dynamic navigation based on login state
    async function updateNav() {
      const user = await checkSession();
      const authDiv = document.querySelector('.auth');
      const registerLink = authDiv.querySelector('a[href="/register.html"]');
      const loginLink = authDiv.querySelector('a[href="/login.html"]');
      const logoutLink = document.getElementById('logout');

      if (user) {
        registerLink.style.display = 'none';
        loginLink.style.display = 'none';
        logoutLink.style.display = 'inline';
        document.getElementById('username').textContent = `Welcome, ${user.name}`;
      } else {
        registerLink.style.display = 'inline';
        loginLink.style.display = 'inline';
        logoutLink.style.display = 'none';
        document.getElementById('username').textContent = '';
      }
    }

    updateNav();
  </script>
</body>
</html>