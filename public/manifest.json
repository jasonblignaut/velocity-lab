# PWA Files to Create

## 1. Create `/manifest.json` in your root directory:

```json
{
  "name": "Velocity Lab - Exchange Hybrid Training",
  "short_name": "Velocity Lab",
  "description": "Comprehensive 4 week journey with 42 tasks to build a complete Exchange Hybrid lab environment",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#000000",
  "theme_color": "#00a8ff",
  "orientation": "portrait-primary",
  "scope": "/",
  "lang": "en",
  "categories": ["education", "productivity", "business"],
  "icons": [
    {
      "src": "/assets/icon-192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any maskable"
    },
    {
      "src": "/assets/icon-512.png", 
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    },
    {
      "src": "/assets/Appleios.png",
      "sizes": "180x180", 
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": "/assets/Android_512.png",
      "sizes": "512x512",
      "type": "image/png", 
      "purpose": "any"
    },
    {
      "src": "/assets/apple-touch-icon.png",
      "sizes": "180x180",
      "type": "image/png",
      "purpose": "any"
    }
  ],
  "screenshots": [
    {
      "src": "/assets/Android_512.png",
      "sizes": "512x512", 
      "type": "image/png",
      "form_factor": "wide"
    }
  ],
  "shortcuts": [
    {
      "name": "Start New Lab",
      "short_name": "New Lab",
      "description": "Start a new Exchange Hybrid lab session",
      "url": "/?action=start-lab",
      "icons": [
        {
          "src": "/assets/icon-192.png",
          "sizes": "192x192"
        }
      ]
    },
    {
      "name": "Lab History", 
      "short_name": "History",
      "description": "View your lab training progress",
      "url": "/?action=lab-history",
      "icons": [
        {
          "src": "/assets/icon-192.png", 
          "sizes": "192x192"
        }
      ]
    }
  ],
  "related_applications": [],
  "prefer_related_applications": false
}
```

## 2. Create `/sw.js` in your root directory:

```javascript
// Velocity Lab PWA Service Worker
const CACHE_NAME = 'velocity-lab-v1';
const urlsToCache = [
  '/',
  '/index.html',
  '/manifest.json',
  '/assets/Velocity-Logo.png',
  '/assets/VelocityBackground.jpg',
  '/assets/task-definitions.js',
  '/assets/icon-192.png',
  '/assets/icon-512.png',
  '/assets/Appleios.png',
  '/assets/Android_512.png',
  '/assets/apple-touch-icon.png',
  '/assets/favicon.ico'
];

// Install SW
self.addEventListener('install', function(event) {
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(function(cache) {
        console.log('ğŸ“¦ PWA Cache opened');
        return cache.addAll(urlsToCache);
      })
      .catch(function(error) {
        console.log('âš ï¸ PWA Cache install failed (non-critical):', error);
      })
  );
});

// Fetch
self.addEventListener('fetch', function(event) {
  event.respondWith(
    caches.match(event.request)
      .then(function(response) {
        // Return cached version or fetch from network
        return response || fetch(event.request);
      }
    )
  );
});

// Activate
self.addEventListener('activate', function(event) {
  event.waitUntil(
    caches.keys().then(function(cacheNames) {
      return Promise.all(
        cacheNames.map(function(cacheName) {
          if (cacheName !== CACHE_NAME) {
            console.log('ğŸ—‘ï¸ PWA Deleting old cache:', cacheName);
            return caches.delete(cacheName);
          }
        })
      );
    })
  );
});

// PWA Install prompt
self.addEventListener('beforeinstallprompt', function(event) {
  console.log('ğŸš€ PWA Install prompt available');
  event.preventDefault();
  return event;
});
```

## 3. File Structure Should Look Like:

```
your-project/
â”œâ”€â”€ index.html
â”œâ”€â”€ manifest.json          â† CREATE THIS
â”œâ”€â”€ sw.js                  â† CREATE THIS
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ Appleios.png
â”‚   â”œâ”€â”€ Android_512.png
â”‚   â”œâ”€â”€ apple-touch-icon.png
â”‚   â”œâ”€â”€ icon-192.png
â”‚   â”œâ”€â”€ icon-512.png
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ Velocity-Logo.png
â”‚   â”œâ”€â”€ VelocityBackground.jpg
â”‚   â””â”€â”€ task-definitions.js
â””â”€â”€ functions/
    â””â”€â”€ api/
        â””â”€â”€ ...
```

## 4. After Creating Files:

1. **Deploy to Cloudflare Pages**
2. **Test PWA Features:**
   - Chrome: Look for install icon in address bar
   - Mobile Safari: Share â†’ "Add to Home Screen"
   - Edge: App install prompt

## 5. Verify Setup:

- Visit your site
- Console should show: `âœ… PWA Service Worker registered successfully`
- No more MIME type errors
- App installs as "Velocity Lab"