<a href="/profile.html" class="nav-link" style="color: var(--primary);">Profile</a>
                    <a href="/admin.html" class="nav-link" id="adminLink" style="display: none;">Admin</a>
                    <span class="text-sm text-secondary" id="userInfo">Loading...</span>
                    <button class="btn btn-secondary btn-sm" id="logout">Sign Out</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        
        <!-- Profile Header -->
        <section class="container" style="margin-top: 2rem;">
            <div class="profile-header">
                <div class="profile-avatar">
                    <div class="avatar-circle" id="avatarCircle">
                        <!-- User initials will be populated -->
                    </div>
                </div>
                <div>
                    <h1 id="profileName" class="text-3xl font-semibold">Loading...</h1>
                    <p id="profileEmail" class="text-lg text-secondary">Loading...</p>
                    <div class="flex items-center gap-4 mt-2">
                        <span id="profileRole" class="badge badge-info">Loading...</span>
                        <span class="text-sm text-tertiary">Member since <span id="memberSince">Loading...</span></span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Profile Navigation -->
        <section class="container">
            <div class="profile-nav">
                <button class="profile-nav-item active" data-tab="overview">Overview</button>
                <button class="profile-nav-item" data-tab="progress">Progress Details</button>
                <button class="profile-nav-item" data-tab="security">Security</button>
                <button class="profile-nav-item" data-tab="data">Data & Privacy</button>
            </div>
        </section>

        <!-- Profile Content -->
        <section class="container">
            
            <!-- Overview Tab -->
            <div class="profile-tab active" id="overview-tab">
                <!-- Statistics Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: var(--primary-light); color: var(--primary);">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22,4 12,14.01 9,11.01"></polyline>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h4>Overall Progress</h4>
                            <div class="stat-value" id="overallProgress">-</div>
                            <div class="stat-detail">Lab completion</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon" style="background: var(--success-light); color: var(--success);">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9,11 12,14 22,4"></polyline>
                                <path d="M21,12v7a2,2,0,0,1-2,2H5a2,2,0,0,1-2-2V5a2,2,0,0,1,2-2h11"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h4>Tasks Completed</h4>
                            <div class="stat-value" id="completedTasks">-</div>
                            <div class="stat-detail">Out of 42 total</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon" style="background: var(--warning-light); color: var(--warning);">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 20V10"></path>
                                <path d="M12 20V4"></path>
                                <path d="M6 20v-6"></path>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h4>Global Rank</h4>
                            <div class="stat-value" id="globalRank">-</div>
                            <div class="stat-detail">Among all users</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon" style="background: var(--info-light); color: var(--info);">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="12,6 12,12 16,14"></polyline>
                            </svg>
                        </div>
                        <div class="stat-content">
                            <h4>Last Activity</h4>
                            <div class="stat-value" id="lastActivity">-</div>
                            <div class="stat-detail">Training session</div>
                        </div>
                    </div>
                </div>
                
                <!-- Week Progress Breakdown -->
                <div class="card" style="margin-top: 2rem;">
                    <h3 style="margin-bottom: 1.5rem;">Weekly Progress</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        
                        <div class="week-progress-card">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="text-2xl">üèóÔ∏è</span>
                                    <div>
                                        <h4 class="font-semibold">Week 1</h4>
                                        <p class="text-sm text-secondary">Foundation Setup</p>
                                    </div>
                                </div>
                            </div>
                            <div class="progress-bar mb-2">
                                <div class="progress-fill" id="week1Progress" style="width: 0%"></div>
                            </div>
                            <div class="text-sm text-tertiary">
                                <span id="week1Count">0/12</span> tasks completed
                            </div>
                        </div>
                        
                        <div class="week-progress-card">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="text-2xl">üè¢</span>
                                    <div>
                                        <h4 class="font-semibold">Week 2</h4>
                                        <p class="text-sm text-secondary">Infrastructure</p>
                                    </div>
                                </div>
                            </div>
                            <div class="progress-bar mb-2">
                                <div class="progress-fill" id="week2Progress" style="width: 0%"></div>
                            </div>
                            <div class="text-sm text-tertiary">
                                <span id="week2Count">0/8</span> tasks completed
                            </div>
                        </div>
                        
                        <div class="week-progress-card">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="text-2xl">üìß</span>
                                    <div>
                                        <h4 class="font-semibold">Week 3</h4>
                                        <p class="text-sm text-secondary">Email & Messaging</p>
                                    </div>
                                </div>
                            </div>
                            <div class="progress-bar mb-2">
                                <div class="progress-fill" id="week3Progress" style="width: 0%"></div>
                            </div>
                            <div class="text-sm text-tertiary">
                                <span id="week3Count">0/12</span> tasks completed
                            </div>
                        </div>
                        
                        <div class="week-progress-card">
                            <div class="flex items-center justify-between mb-3">
                                <div class="flex items-center gap-2">
                                    <span class="text-2xl">‚òÅÔ∏è</span>
                                    <div>
                                        <h4 class="font-semibold">Week 4</h4>
                                        <p class="text-sm text-secondary">Cloud Integration</p>
                                    </div>
                                </div>
                            </div>
                            <div class="progress-bar mb-2">
                                <div class="progress-fill" id="week4Progress" style="width: 0%"></div>
                            </div>
                            <div class="text-sm text-tertiary">
                                <span id="week4Count">0/10</span> tasks completed
                            </div>
                        </div>
                        
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="card" style="margin-top: 2rem;">
                    <h3 style="margin-bottom: 1.5rem;">Quick Actions</h3>
                    <div class="flex gap-4 flex-wrap">
                        <a href="/dashboard.html" class="btn btn-primary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5,3 19,12 5,21"></polygon>
                            </svg>
                            Continue Training
                        </a>
                        
                        <button class="btn btn-secondary" onclick="refreshProgress()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="23,4 23,10 17,10"></polyline>
                                <polyline points="1,20 1,14 7,14"></polyline>
                                <path d="M20.49,9A9,9,0,0,0,5.64,5.64L1,10m22,4l-4.64,4.36A9,9,0,0,1,3.51,15"></path>
                            </svg>
                            Refresh Progress
                        </button>
                        
                        <button class="btn btn-secondary" onclick="exportData()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7,10 12,15 17,10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Export Data
                        </button>
                    </div>
                </div>
            </div>

            <!-- Progress Tab -->
            <div class="profile-tab" id="progress-tab">
                <div class="card">
                    <h3 style="margin-bottom: 1.5rem;">Detailed Progress Analytics</h3>
                    <div class="text-center" style="padding: 3rem; color: var(--text-tertiary);">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin: 0 auto 1rem;">
                            <path d="M18 20V10"></path>
                            <path d="M12 20V4"></path>
                            <path d="M6 20v-6"></path>
                        </svg>
                        <p>Detailed progress charts and analytics will be displayed here</p>
                        <p class="text-sm">Track your learning journey with comprehensive metrics</p>
                    </div>
                </div>
            </div>

            <!-- Security Tab -->
            <div class="profile-tab" id="security-tab">
                <div class="card">
                    <h3 style="margin-bottom: 1.5rem;">Security Settings</h3>
                    
                    <!-- Change Password Form -->
                    <form id="passwordForm">
                        <input type="hidden" id="csrfToken" name="csrf_token" value="">
                        
                        <div class="form-group">
                            <label class="form-label" for="currentPassword">Current Password</label>
                            <div class="input-wrapper">
                                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                    <circle cx="12" cy="16" r="1"></circle>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                </svg>
                                <input 
                                    type="password" 
                                    id="currentPassword" 
                                    name="currentPassword" 
                                    class="form-input" 
                                    placeholder="Enter your current password"
                                    required
                                    autocomplete="current-password"
                                >
                                <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="newPassword">New Password</label>
                            <div class="input-wrapper">
                                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                    <circle cx="12" cy="16" r="1"></circle>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                </svg>
                                <input 
                                    type="password" 
                                    id="newPassword" 
                                    name="newPassword" 
                                    class="form-input" 
                                    placeholder="Enter your new password"
                                    required
                                    autocomplete="new-password"
                                    minlength="8"
                                >
                                <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                            </div>
                            <div class="text-sm text-tertiary" style="margin-top: 0.5rem;">
                                Minimum 8 characters required
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="confirmPassword">Confirm New Password</label>
                            <div class="input-wrapper">
                                <svg class="input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                    <path d="M9 16a1 1 0 0 1-1-1v-1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1"></path>
                                    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                </svg>
                                <input 
                                    type="password" 
                                    id="confirmPassword" 
                                    name="confirmPassword" 
                                    class="form-input" 
                                    placeholder="Confirm your new password"
                                    required
                                    autocomplete="new-password"
                                >
                                <button type="button" class="toggle-password" aria-label="Toggle password visibility">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path>
                                <polyline points="17,21 17,13 7,13 7,21"></polyline>
                                <polyline points="7,3 7,8 15,8"></polyline>
                            </svg>
                            Update Password
                        </button>
                    </form>
                    
                    <!-- Security Information -->
                    <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border);">
                        <h4 style="margin-bottom: 1rem;">Security Information</h4>
                        <div class="text-sm text-secondary">
                            <p><strong>Password Last Changed:</strong> <span id="passwordChangedAt">Loading...</span></p>
                            <p style="margin-top: 0.5rem;"><strong>Account Created:</strong> <span id="accountCreated">Loading...</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Data & Privacy Tab -->
            <div class="profile-tab" id="data-tab">
                <div class="card">
                    <h3 style="margin-bottom: 1.5rem;">Data & Privacy</h3>
                    
                    <!-- Data Export -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Export Your Data</h4>
                        <p class="text-sm text-secondary" style="margin-bottom: 1rem;">
                            Download a complete copy of your training data, progress, and account information.
                        </p>
                        <button class="btn btn-secondary" onclick="exportPersonalData()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                                <polyline points="7,10 12,15 17,10"></polyline>
                                <line x1="12" y1="15" x2="12" y2="3"></line>
                            </svg>
                            Download Data Export
                        </button>
                    </div>
                    
                    <!-- Data Usage -->
                    <div style="margin-bottom: 2rem; padding-top: 2rem; border-top: 1px solid var(--border);">
                        <h4 style="margin-bottom: 1rem;">How We Use Your Data</h4>
                        <div class="text-sm text-secondary space-y-2">
                            <p>‚Ä¢ <strong>Training Progress:</strong> Track your completion of lab tasks and exercises</p>
                            <p>‚Ä¢ <strong>Performance Analytics:</strong> Help improve the training experience</p>
                            <p>‚Ä¢ <strong>Account Security:</strong> Secure login and session management</p>
                            <p>‚Ä¢ <strong>No Third-Party Sharing:</strong> Your data stays within our training platform</p>
                        </div>
                    </div>
                    
                    <!-- Data Retention -->
                    <div style="padding-top: 2rem; border-top: 1px solid var(--border);">
                        <h4 style="margin-bottom: 1rem;">Data Retention</h4>
                        <div class="text-sm text-secondary">
                            <p>Your training data and progress are retained for the duration of your account. 
                            You can request data deletion by contacting support, though this will remove 
                            access to your training progress and certifications.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Notification System -->
    <div class="notification" id="notification" role="alert" aria-live="assertive">
        <!-- Dynamic notification content -->
    </div>

    <!-- Scripts -->
    <script src="/js/constants.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/app.js"></script>
    
    <!-- Profile Page JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication first
            window.VelocitySharedUtils.redirectIfNotAuthenticated();
            
            // Initialize profile page
            initProfilePage();
            
            // Load profile data
            loadProfileData();
            
            // Setup tab navigation
            setupProfileTabs();
            
            // Setup form handlers
            setupProfileForms();
        });
        
        function initProfilePage() {
            console.log('üë§ Profile page initializing...');
            
            // Set active navigation
            const profileLink = document.querySelector('a[href="/profile.html"]');
            if (profileLink) {
                profileLink.style.color = 'var(--primary)';
                profileLink.style.fontWeight = 'var(--font-weight-semibold)';
            }
        }
        
        function setupProfileTabs() {
            const tabButtons = document.querySelectorAll('.profile-nav-item');
            const tabPanes = document.querySelectorAll('.profile-tab');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Update button states
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update tab panes
                    tabPanes.forEach(pane => pane.classList.remove('active'));
                    const targetPane = document.getElementById(tabId + '-tab');
                    if (targetPane) {
                        targetPane.classList.add('active');
                        
                        // Load tab-specific data
                        if (tabId === 'security') {
                            // Focus on security tab actions
                            setTimeout(() => {
                                const firstInput = targetPane.querySelector('input');
                                if (firstInput) firstInput.focus();
                            }, 100);
                        }
                    }
                });
            });
        }
        
        async function loadProfileData() {
            try {
                const response = await window.VelocitySharedUtils.apiCall('/api/profile');
                
                if (!response || !response.success) {
                    throw new Error('Failed to load profile data');
                }
                
                const profile = response.data || response;
                
                // Update profile header
                document.getElementById('profileName').textContent = profile.name;
                document.getElementById('profileEmail').textContent = profile.email;
                document.getElementById('profileRole').textContent = profile.role;
                document.getElementById('profileRole').className = `badge ${profile.role === 'admin' ? 'badge-warning' : 'badge-info'}`;
                
                // Update avatar
                const avatarCircle = document.getElementById('avatarCircle');
                const initials = profile.name.split(' ').map(n => n[0]).join('').toUpperCase();
                avatarCircle.textContent = initials;
                
                // Update member since
                const memberSince = new Date(profile.createdAt).toLocaleDateString();
                document.getElementById('memberSince').textContent = memberSince;
                
                // Update statistics
                document.getElementById('overallProgress').textContent = Math.round(profile.progress || 0) + '%';
                document.getElementById('completedTasks').textContent = profile.completedTasks || 0;
                document.getElementById('globalRank').textContent = `#${profile.rank || 'N/A'}`;
                
                // Update last activity
                const lastActivity = profile.lastLogin ? window.VelocitySharedUtils.formatDate(profile.lastLogin) : 'Never';
                document.getElementById('lastActivity').textContent = lastActivity;
                
                // Update week progress
                updateWeekProgress(profile.tasksByWeek || {});
                
                // Update security info
                const passwordChanged = profile.passwordChangedAt ? 
                    new Date(profile.passwordChangedAt).toLocaleDateString() : 'Never';
                document.getElementById('passwordChangedAt').textContent = passwordChanged;
                document.getElementById('accountCreated').textContent = memberSince;
                
            } catch (error) {
                console.error('Error loading profile data:', error);
                window.VelocitySharedUtils.showNotification('Failed to load profile data', 'error');
            }
        }
        
        function updateWeekProgress(tasksByWeek) {
            const weeks = [
                { key: 'week1', total: 12 },
                { key: 'week2', total: 8 },
                { key: 'week3', total: 12 },
                { key: 'week4', total: 10 }
            ];
            
            weeks.forEach(week => {
                const completed = tasksByWeek[week.key] || 0;
                const percentage = Math.round((completed / week.total) * 100);
                
                const progressBar = document.getElementById(week.key + 'Progress');
                const countSpan = document.getElementById(week.key + 'Count');
                
                if (progressBar) {
                    progressBar.style.width = percentage + '%';
                }
                
                if (countSpan) {
                    countSpan.textContent = `${completed}/${week.total}`;
                }
            });
        }
        
        function setupProfileForms() {
            // Password change form
            const passwordForm = document.getElementById('passwordForm');
            if (passwordForm) {
                passwordForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const currentPassword = document.getElementById('currentPassword').value;
                    const newPassword = document.getElementById('newPassword').value;
                    const confirmPassword = document.getElementById('confirmPassword').value;
                    
                    // Validate passwords match
                    if (newPassword !== confirmPassword) {
                        window.VelocitySharedUtils.showNotification('New passwords do not match', 'error');
                        return;
                    }
                    
                    // Validate password strength
                    const validation = window.VelocitySharedUtils.validatePassword(newPassword);
                    if (!validation.valid) {
                        window.VelocitySharedUtils.showNotification(validation.message, 'error');
                        return;
                    }
                    
                    // Validate not same as current
                    if (currentPassword === newPassword) {
                        window.VelocitySharedUtils.showNotification('New password must be different from current password', 'error');
                        return;
                    }
                    
                    try {
                        const formData = new FormData(this);
                        
                        const response = await window.VelocitySharedUtils.apiCall('/api/profile/change-password', {
                            method: 'POST',
                            body: formData
                        });
                        
                        if (!response || !response.success) {
                            throw new Error(response?.error || 'Failed to change password');
                        }
                        
                        window.VelocitySharedUtils.showNotification('Password updated successfully', 'success');
                        
                        // Reset form
                        passwordForm.reset();
                        
                        // Update password changed date
                        if (response.passwordChangedAt) {
                            const changedDate = new Date(response.passwordChangedAt).toLocaleDateString();
                            document.getElementById('passwordChangedAt').textContent = changedDate;
                        }
                        
                    } catch (error) {
                        console.error('Error changing password:', error);
                        window.VelocitySharedUtils.showNotification(error.message, 'error');
                    }
                });
            }
        }
        
        // Action Functions
        function refreshProgress() {
            window.VelocitySharedUtils.showNotification('Refreshing progress data...', 'info');
            loadProfileData();
        }
        
        function exportData() {
            window.VelocitySharedUtils.showNotification('Preparing data export...', 'info');
            exportPersonalData();
        }
        
        async function exportPersonalData() {
            try {
                const response = await window.VelocitySharedUtils.apiCall('/api/profile/export-data', {
                    method: 'POST'
                });
                
                if (!response || !response.success) {
                    throw new Error('Failed to export data');
                }
                
                // Create download link for the exported data
                const dataStr = JSON.stringify(response.data, null, 2);
                const blob = new Blob([dataStr], { type: 'application/json' });
                const url = window.URL.createObjectURL(blob);
                a.href = url;
                a.download = `velocity-lab-data-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
                
                window.VelocitySharedUtils.showNotification('Data export downloaded successfully', 'success');
                
            } catch (error) {
                console.error('Error exporting data:', error);
                window.VelocitySharedUtils.showNotification('Failed to export data', 'error');
            }
        }
        
        console.log('üë§ Profile page enhanced features loaded successfully!');
    </script>
    
    <!-- Additional CSS for profile page -->
    <style>
        .profile-header {
            display: flex;
            align-items: center;
            gap: 2rem;
            padding: 2rem;
            background: var(--surface-card);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow);
            margin-bottom: 2rem;
        }
        
        .profile-avatar {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .avatar-circle {
            width: 5rem;
            height: 5rem;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .profile-nav {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 2rem;
            padding: 0.5rem;
            background: var(--surface-light);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-light);
        }
        
        .profile-nav-item {
            padding: 0.75rem 1.5rem;
            border: none;
            background: none;
            border-radius: var(--radius);
            font-weight: 500;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all var(--transition-base);
        }
        
        .profile-nav-item:hover {
            background: var(--surface);
            color: var(--text-primary);
        }
        
        .profile-nav-item.active {
            background: var(--primary);
            color: white;
            box-shadow: var(--shadow);
        }
        
        .profile-tab {
            display: none;
        }
        
        .profile-tab.active {
            display: block;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            background: var(--surface-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow);
            transition: all var(--transition-base);
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .stat-icon {
            width: 3rem;
            height: 3rem;
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .stat-content h4 {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-tertiary);
            margin-bottom: 0.25rem;
        }
        
        .stat-value {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }
        
        .stat-detail {
            font-size: 0.75rem;
            color: var(--text-tertiary);
        }
        
        .week-progress-card {
            padding: 1.5rem;
            background: var(--surface-elevated);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            transition: all var(--transition-base);
        }
        
        .week-progress-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }
        
        .progress-bar {
            width: 100%;
            height: 6px;
            background: var(--gray-200);
            border-radius: var(--radius-full);
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--primary);
            transition: width 0.3s ease;
        }
        
        .card {
            background: var(--surface-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-xl);
            padding: 2rem;
            box-shadow: var(--shadow);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }
        
        .input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }
        
        .input-icon {
            position: absolute;
            left: 1rem;
            color: var(--text-tertiary);
            z-index: 1;
        }
        
        .form-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 3rem;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-size: 1rem;
            transition: all var(--transition-base);
            background: var(--surface);
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px var(--primary-light);
        }
        
        .toggle-password {
            position: absolute;
            right: 1rem;
            background: none;
            border: none;
            color: var(--text-tertiary);
            cursor: pointer;
            padding: 0.25rem;
            border-radius: var(--radius);
            transition: all var(--transition-base);
        }
        
        .toggle-password:hover {
            color: var(--text-primary);
            background: var(--surface-light);
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: var(--radius);
            font-weight: 500;
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition-base);
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
            box-shadow: var(--shadow);
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: var(--surface);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }
        
        .btn-secondary:hover {
            background: var(--surface-light);
            transform: translateY(-1px);
        }
        
        .space-y-2 > * + * {
            margin-top: 0.5rem;
        }
        
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius);
            font-size: 0.75rem;
            font-weight: 500;
        }
        
        .badge-info {
            background: var(--info-light);
            color: var(--info);
        }
        
        .badge-warning {
            background: var(--warning-light);
            color: var(--warning);
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .profile-header {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .profile-nav {
                flex-wrap: wrap;
            }
            
            .profile-nav-item {
                padding: 0.5rem 1rem;
                font-size: 0.875rem;
            }
        }
        
        /* Dark mode adjustments */
        @media (prefers-color-scheme: dark) {
            .week-progress-card {
                background: var(--surface);
            }
        }
    </style>
</body>
</html>
                <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Velocity Lab</title>
    <meta name="description" content="Manage your profile and view your training progress">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/css/styles.css" as="style">
    <link rel="preload" href="/js/constants.js" as="script">
    <link rel="preload" href="/js/utils.js" as="script">
    <link rel="preload" href="/app.js" as="script">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/styles.css">
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Navigation -->
    <nav class="nav-glass">
        <div class="container">
            <div class="nav-content">
                <a href="/dashboard.html" class="nav-brand">
                    <img src="/assets/velocity-logo.png" alt="Velocity Logo" class="nav-logo">
                    <span class="font-semibold text-xl">Velocity Lab</span>
                </a>
                
                <div class="nav-links">
                    <a href="/dashboard.html" class="nav-link">Dashboard</a>
                    <a href="/profile.html" class="nav