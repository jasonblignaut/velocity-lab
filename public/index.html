<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Velocity Lab - Comprehensive MSP Training Platform</title>
    
    <!-- PWA Meta Tags -->
    <meta name="application-name" content="Velocity Lab">
    <meta name="apple-mobile-web-app-title" content="Velocity Lab">
    <meta name="description" content="Comprehensive MSP training platform covering Exchange Hybrid LAB plus tutorials for Networking, Azure, Firewalls, Linux, and more">
    <meta name="theme-color" content="#00a8ff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/assets/favicon.ico">
    
    <!-- PWA Icons -->
    <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/Appleios.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/assets/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/assets/icon-512.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <!-- Open Graph for sharing -->
    <meta property="og:title" content="Velocity Lab - MSP Training Platform">
    <meta property="og:description" content="Exchange Hybrid LAB plus comprehensive tutorials covering Networking, Microsoft Azure, Firewalls, Linux, and more">
    <meta property="og:image" content="/assets/Android_512.png">
    <meta property="og:url" content="https://labverse.co.za">
    <meta property="og:type" content="website">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Velocity Lab - MSP Training Platform">
    <meta name="twitter:description" content="Exchange Hybrid LAB plus comprehensive tutorials covering Networking, Microsoft Azure, Firewalls, Linux, and more">
    <meta name="twitter:image" content="/assets/Android_512.png">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/assets/Velocity-Logo.png" as="image">
    <link rel="preload" href="/assets/VelocityBackground.jpg" as="image">
    
    <style>
        /* Apple White + Unifi Cloud Color Scheme with Dark Mode */
        :root {
            --primary: #00a8ff;
            --primary-hover: #0093e6;
            --secondary: #f8f9fa;
            --background: #ffffff;
            --surface: #f8f9fa;
            --surface-hover: #e9ecef;
            --text: #1d1d1f;
            --text-secondary: #6e6e73;
            --border: #d2d2d7;
            --success: #34c759;
            --warning: #ff9500;
            --danger: #ff3b30;
            --shadow: rgba(0, 0, 0, 0.08);
            --shadow-heavy: rgba(0, 0, 0, 0.15);
            --jedi-glow: #00ff88;
            --sith-glow: #ff0066;
            --bg-secondary: #f0f0f5;
        }

        [data-theme="dark"] {
            --primary: #00a8ff;
            --primary-hover: #0093e6;
            --secondary: #1e1e1e;
            --background: #000000;
            --surface: #1e1e1e;
            --surface-hover: #2e2e2e;
            --text: #ffffff;
            --text-secondary: #a1a1a6;
            --border: #2e2e2e;
            --success: #30d158;
            --warning: #ff9f0a;
            --danger: #ff453a;
            --shadow: rgba(255, 255, 255, 0.1);
            --shadow-heavy: rgba(255, 255, 255, 0.2);
            --bg-secondary: #2a2a2a;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: var(--background);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
            transition: all 0.3s ease;
            scroll-behavior: smooth;
        }

        /* Landing page scroll prevention */
        body.no-scroll {
            overflow: hidden;
            height: 100vh;
        }

        /* Background Image - Fixed to show in both themes */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('/assets/VelocityBackground.jpg') center/cover no-repeat;
            opacity: 0.08;
            z-index: -1;
        }

        [data-theme="dark"] body::before {
            opacity: 0.05;
        }

        /* Header - Modern layered approach */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 9999;
            height: 70px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 2rem;
            transition: all 0.3s ease;
        }

        /* Solid background layer */
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--background);
            z-index: -2;
        }

        /* Blur overlay layer */
        .header::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid var(--border);
            z-index: -1;
        }

        [data-theme="dark"] .header::after {
            background: rgba(0, 0, 0, 0.8);
        }

        /* Logo */
        .logo {
            width: 80px;
            height: 80px;
            background: url('/assets/Velocity-Logo.png') center/contain no-repeat;
            cursor: pointer;
            position: relative;
            z-index: 10001;
            transition: transform 0.2s ease;
        }

        .logo:hover {
            transform: scale(1.05);
        }

        [data-theme="dark"] .logo {
            filter: invert(1) brightness(1.2);
        }

        /* Desktop Navigation - Only Request Access in header */
        .header-buttons {
            display: flex;
            gap: 12px;
        }

        /* Mobile Hamburger Menu */
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: all 0.2s ease;
            position: relative;
            z-index: 10001;
        }

        .hamburger:hover {
            background: var(--surface-hover);
            transform: scale(1.05);
        }

        .hamburger span {
            width: 24px;
            height: 2px;
            background: var(--text);
            margin: 3px 0;
            transition: all 0.3s ease;
            border-radius: 1px;
        }

        .hamburger.active span:nth-child(1) {
            transform: rotate(45deg) translate(6px, 6px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(-45deg) translate(6px, -6px);
        }

        /* Mobile Menu Overlay */
        .mobile-menu {
            position: fixed;
            top: 70px;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            transform: translateY(-100%);
            transition: transform 0.3s ease;
            z-index: 9998;
            padding: 1rem;
            max-height: calc(100vh - 70px);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        [data-theme="dark"] .mobile-menu {
            background: rgba(0, 0, 0, 0.98);
        }

        .mobile-menu.active {
            transform: translateY(0);
        }

        .mobile-menu-items {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .mobile-menu-item {
            padding: 12px 16px;
            text-align: center;
            background: none;
            border: none;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 8px;
            text-decoration: none;
            font-size: 16px;
        }

        .mobile-menu-item:hover, .mobile-menu-item.primary {
            background: var(--primary);
            color: white;
            transform: translateY(-1px);
        }

        .mobile-menu-item.secondary {
            border: 1px solid var(--border);
        }

        /* Theme Menu */
        .theme-menu-item {
            position: relative;
        }

        .theme-menu-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 12px 16px;
            color: var(--text);
            border: none;
            background: none;
            width: 100%;
            cursor: pointer;
            transition: all 0.2s ease;
            border-radius: 8px;
        }

        .theme-menu-toggle:hover {
            background: var(--surface-hover);
            transform: translateY(-1px);
        }

        .theme-submenu {
            position: absolute;
            right: 100%;
            top: 0;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 8px;
            box-shadow: 0 8px 25px var(--shadow-heavy);
            min-width: 150px;
            z-index: 9996;
            display: none;
        }

        .theme-menu-item:hover .theme-submenu {
            display: block;
            animation: dropdownSlide 0.2s ease;
        }

        .theme-option {
            display: block;
            width: 100%;
            padding: 12px 16px;
            text-align: left;
            background: none;
            border: none;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            font-size: 14px;
        }

        .theme-option:hover {
            background: var(--surface-hover);
            transform: translateX(-2px);
        }

        .theme-option.active {
            background: var(--primary);
            color: white;
        }

        .theme-option.jedi:hover {
            background: linear-gradient(45deg, var(--jedi-glow), #00ff88);
            color: white;
        }

        .theme-option.sith:hover {
            background: linear-gradient(45deg, var(--sith-glow), #ff0066);
            color: white;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 168, 255, 0.3);
        }

        .btn-secondary {
            background: transparent;
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--surface-hover);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px var(--shadow);
        }

        /* Welcome Screen - Only Sign In button in center */
        .welcome-screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            position: relative;
        }

        .welcome-notification {
            position: absolute;
            top: 120px;
            left: 2rem;
            background: var(--primary);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 8px 25px var(--shadow-heavy);
            max-width: 300px;
            animation: slideInLeft 0.5s ease;
        }

        @keyframes slideInLeft {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .welcome-title {
            font-size: clamp(3rem, 8vw, 5rem);
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--text), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
            padding: 0.2rem 0;
            animation: titleGlow 3s ease-in-out infinite alternate;
        }

        @keyframes titleGlow {
            from { filter: brightness(1); }
            to { filter: brightness(1.1); }
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 2.5rem;
            animation: fadeInUp 0.8s ease 0.3s both;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .welcome-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
            animation: fadeInUp 0.8s ease 0.6s both;
        }

        .btn-large {
            padding: 12px 24px;
            font-size: 16px;
            border-radius: 12px;
        }

        /* Modern Apple-style Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 10000;
            padding: 2rem;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Apple-style Modal Content */
        .modal-content {
            background: #1a1a1a;
            border-radius: 20px;
            padding: 0;
            width: 100%;
            max-width: 400px;
            height: auto;
            min-height: 320px;
            max-height: 90vh;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
            position: relative;
            animation: modalSlideIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .modal-content.large {
            max-width: 800px;
            background: var(--background);
            height: auto;
            min-height: unset;
            max-height: 90vh;
        }

        /* Apple-style signin has dark background */
        .apple-modal {
            background: #1a1a1a;
            color: white;
        }

        @keyframes modalSlideIn {
            from { 
                transform: scale(0.8) translateY(60px); 
                opacity: 0; 
            }
            to { 
                transform: scale(1) translateY(0); 
                opacity: 1; 
            }
        }

        /* Clean header with logo */
        .modal-header-clean {
            position: relative;
            height: 100px;
            background: #1a1a1a;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        /* Velocity logo in the center - properly sized and colored */
        .modal-logo {
            width: 120px;
            height: 35px;
            background: url('/assets/Velocity-Logo.png') center/contain no-repeat;
            filter: invert(1) brightness(1.2);
        }

        /* Modal content area with better centering */
        .modal-body {
            padding: 20px 35px 35px;
            text-align: center;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 220px;
        }

        .modal-body.initial-state {
            justify-content: center;
        }

        .apple-modal .modal-body {
            color: white;
        }

        .modal-title {
            font-size: clamp(22px, 5vw, 28px);
            font-weight: 600;
            margin-bottom: 32px;
            color: white;
            line-height: 1.2;
        }

        .modal-subtitle {
            color: #a1a1a6;
            margin-bottom: 32px;
            font-size: clamp(15px, 4vw, 17px);
            line-height: 1.3;
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            z-index: 20;
            font-size: 18px;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .modal-close:active {
            transform: scale(0.9);
        }

        /* Form Styles for Apple Modal */
        .apple-form-group {
            margin-bottom: 16px;
            text-align: left;
            position: relative;
        }

        .apple-form-group.hidden {
            display: none;
        }

        .apple-form-input {
            width: 100%;
            padding: 16px;
            border: 1px solid #3a3a3c;
            border-radius: 12px;
            font-size: 17px;
            background: #2c2c2e;
            color: white;
            transition: all 0.3s ease;
        }

        .apple-form-input:focus {
            outline: none;
            border-color: #0a84ff;
            box-shadow: 0 0 0 3px rgba(10, 132, 255, 0.1);
            transform: scale(1.02);
        }

        .apple-form-input::placeholder {
            color: #6d6d70;
        }

        .password-field .apple-form-input {
            padding-right: 56px;
        }

        /* Enhanced loading spinner for email field */
        .apple-form-input.loading {
            background: #2c2c2e;
            position: relative;
            pointer-events: none;
        }

        .apple-form-input.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 16px;
            width: 16px;
            height: 16px;
            margin-top: -8px;
            border: 2px solid #0a84ff;
            border-top-color: transparent;
            border-radius: 50%;
            animation: emailSpinnerMove 2s linear infinite;
        }

        @keyframes emailSpinnerMove {
            0% {
                left: 16px;
                transform: rotate(0deg);
            }
            50% {
                left: calc(100% - 32px);
                transform: rotate(180deg);
            }
            100% {
                left: 16px;
                transform: rotate(360deg);
            }
        }

        /* Password field with styled arrow button */
        .password-field {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            background: #6d6d70;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            padding: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            transition: all 0.2s ease;
            line-height: 1;
        }

        .password-toggle:hover {
            background: #8e8e93;
            transform: translateY(-50%) scale(1.05);
        }

        .password-toggle:active {
            background: #34c759;
            transform: translateY(-50%) scale(0.95);
        }

        .password-toggle.loading {
            background: #6d6d70;
            color: transparent;
            pointer-events: none;
            font-size: 0;
            border: none;
            background-color: transparent !important;
        }

        .password-toggle.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            margin: -10px 0 0 -10px;
            border: 2px solid #0a84ff;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            background: transparent;
        }

        .apple-checkbox-container {
            display: flex;
            align-items: center;
            margin: 20px 0;
        }

        .apple-checkbox {
            width: 18px;
            height: 18px;
            margin-right: 12px;
            accent-color: #0a84ff;
        }

        .apple-checkbox-label {
            color: #a1a1a6;
            font-size: 15px;
        }

        /* Request Access Form Styles */
        .request-form {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 2rem;
            max-width: 500px;
            margin: 0 auto;
            box-shadow: 0 8px 25px var(--shadow-heavy);
        }

        .request-form h3 {
            margin-bottom: 1rem;
            color: var(--text);
            text-align: center;
        }

        .request-form p {
            margin-bottom: 1.5rem;
            color: var(--text-secondary);
            text-align: center;
            font-size: 0.9rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text);
        }

        .form-input {
            width: 100%;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 16px;
            background: var(--background);
            color: var(--text);
            transition: all 0.2s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 168, 255, 0.1);
            transform: scale(1.02);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
            font-family: inherit;
        }

        .form-submit {
            width: 100%;
            margin-top: 1rem;
            padding: 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .form-submit:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 168, 255, 0.3);
        }

        .form-submit:active {
            transform: scale(0.98);
        }

        .hidden {
            display: none !important;
        }

        /* Non-Apple modals keep original styling */
        .modal-header {
            text-align: center;
            margin-bottom: 1.5rem;
            padding: 1rem 1rem 0;
        }

        .modal-header h2 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        /* Task Detail Modal */
        .task-detail-content {
            max-height: 70vh;
            overflow-y: auto;
            padding: 1rem;
            flex: 1;
            -webkit-overflow-scrolling: touch;
        }

        .task-detail-close {
            position: absolute;
            top: 15px;
            right: 20px;
            background: var(--surface-hover);
            border: none;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            color: var(--text);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            z-index: 20;
            font-size: 18px;
            font-weight: bold;
        }

        .task-detail-close:hover {
            background: var(--danger);
            color: white;
            transform: scale(1.1);
        }

        .task-detail-close:active {
            transform: scale(0.9);
        }

        .notes-container {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border);
        }

        .notes-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .notes-title {
            margin: 0;
            color: var(--text);
        }

        .save-note-btn {
            padding: 6px 12px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s ease;
            opacity: 0.7;
        }

        .save-note-btn:hover {
            opacity: 1;
            transform: translateY(-1px);
        }

        .save-note-btn:active {
            transform: scale(0.95);
        }

        .save-note-btn.saved {
            background: var(--success);
        }

        .notes-textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 1px solid var(--border);
            border-radius: 8px;
            background: var(--background);
            color: var(--text);
            font-family: inherit;
            resize: vertical;
            transition: all 0.2s ease;
        }

        .notes-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(0, 168, 255, 0.1);
        }

        .notes-textarea.has-content {
            cursor: pointer;
            background: linear-gradient(135deg, var(--surface), var(--background));
        }

        .notes-textarea.has-content:hover {
            border-color: var(--primary);
        }

        .notes-tip {
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .subtask-container {
            margin: 1rem 0;
        }

        .subtask-item {
            display: flex;
            align-items: flex-start;
            margin: 0.75rem 0;
            padding: 0.5rem;
            border-radius: 6px;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .subtask-item:hover {
            background: var(--surface-hover);
            transform: translateX(2px);
        }

        .subtask-checkbox {
            margin-right: 0.75rem;
            margin-top: 0.25rem;
            cursor: pointer;
        }

        .subtask-item label {
            cursor: pointer;
            line-height: 1.4;
            flex: 1;
        }

        .subtask-item.completed {
            opacity: 0.7;
        }

        .subtask-item.completed label {
            text-decoration: line-through;
        }

        /* Lab History Modal Specific Fixes */
        .lab-history-modal-content {
            max-height: 80vh;
            height: 80vh;
            overflow-y: auto;
            padding: 1rem;
            flex: 1;
            -webkit-overflow-scrolling: touch;
        }

        /* Main Dashboard */
        .main-content {
            margin-top: 70px;
            padding: 2rem;
            min-height: calc(100vh - 70px);
        }

        .dashboard-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .dashboard-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--text);
            animation: fadeInUp 0.6s ease;
        }

        .dashboard-subtitle {
            color: var(--text-secondary);
            font-size: 1.1rem;
            animation: fadeInUp 0.6s ease 0.2s both;
        }

        /* Progress Ring */
        .progress-section {
            display: flex;
            justify-content: center;
            margin: 2rem 0;
            animation: fadeInUp 0.6s ease 0.4s both;
        }

        .progress-ring {
            position: relative;
            width: 200px;
            height: 200px;
        }

        .progress-ring svg {
            transform: rotate(-90deg);
            width: 100%;
            height: 100%;
        }

        .progress-ring-bg {
            fill: none;
            stroke: var(--surface);
            stroke-width: 8;
        }

        .progress-ring-fill {
            fill: none;
            stroke: var(--primary);
            stroke-width: 8;
            stroke-linecap: round;
            transition: stroke-dasharray 0.5s ease;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .progress-percentage {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text);
        }

        .progress-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Category Cards - Enhanced Design with Fixed Badge Position */
        .categories-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            max-width: 1200px;
            margin: 0 auto;
            animation: fadeInUp 0.6s ease 0.6s both;
        }

        .category-card {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            padding-top: 3rem; /* Add more top padding to make room for badge */
            box-shadow: 0 4px 12px var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .category-card:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 12px 30px var(--shadow-heavy);
        }

        .category-card:active {
            transform: translateY(-2px) scale(1.01);
        }

        .category-card.lab-card {
            border: 2px solid var(--primary);
            background: linear-gradient(135deg, rgba(0, 168, 255, 0.05), var(--background));
        }

        .category-card.lab-card::before {
            content: 'ðŸ§ª LAB';
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: var(--primary);
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: bold;
            animation: pulse 2s infinite;
            z-index: 2;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        .category-card.tutorial-card::before {
            content: 'ðŸ“š TUTORIAL';
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            background: var(--success);
            color: white;
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: bold;
            z-index: 2;
        }

        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .category-icon {
            font-size: 2rem;
            margin-right: 1rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-5px); }
            60% { transform: translateY(-2px); }
        }

        .category-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--text);
        }

        .category-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }

        .category-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
        }

        .category-count {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .category-progress {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--success);
        }

        /* Tutorial View Styles */
        .tutorial-view {
            padding: 2rem 0;
        }

        .tutorial-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .tutorial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .tutorial-card {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px var(--shadow);
        }

        .tutorial-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 30px var(--shadow-heavy);
        }

        .tutorial-header h3 {
            margin: 0 0 1rem 0;
            color: var(--text);
            font-size: 1.1rem;
        }

        .tutorial-preview {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .tutorial-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
        }

        .tutorial-type {
            font-size: 0.8rem;
            color: var(--primary);
            font-weight: 500;
        }

        .tutorial-arrow {
            color: var(--text-secondary);
            font-weight: bold;
            transition: transform 0.2s ease;
        }

        .tutorial-card:hover .tutorial-arrow {
            transform: translateX(5px);
        }

        /* Tutorial Content Styles */
        .tutorial-content {
            line-height: 1.6;
        }

        .tutorial-content h2 {
            color: var(--text);
            margin-bottom: 1.5rem;
            border-bottom: 2px solid var(--primary);
            padding-bottom: 0.5rem;
        }

        .tutorial-content h3 {
            color: var(--text);
            margin: 1.5rem 0 1rem 0;
        }

        .tutorial-content h4 {
            color: var(--text);
            margin: 1rem 0 0.5rem 0;
        }

        .tutorial-content p {
            margin-bottom: 1rem;
            color: var(--text);
        }

        .tutorial-content ul, .tutorial-content ol {
            margin: 1rem 0 1rem 1.5rem;
            color: var(--text);
        }

        .tutorial-content li {
            margin-bottom: 0.5rem;
        }

        .code-block {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        .code-block code {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.4;
            color: var(--text);
            white-space: pre;
        }

        .tutorial-tips {
            background: rgba(0, 168, 255, 0.1);
            border: 1px solid rgba(0, 168, 255, 0.2);
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        .tutorial-tips h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .tutorial-warning {
            background: rgba(255, 149, 0, 0.1);
            border: 1px solid rgba(255, 149, 0, 0.2);
            border-radius: 8px;
            padding: 1rem;
            margin: 1.5rem 0;
        }

        .tutorial-warning h4 {
            color: var(--warning);
            margin-bottom: 0.5rem;
        }

        /* Week Cards */
        .weeks-container {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .week-card {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 12px var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .week-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px var(--shadow-heavy);
        }

        .week-card.expanded {
            cursor: default;
        }

        .week-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .week-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text);
        }

        .week-tasks {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .week-progress {
            height: 6px;
            background: var(--surface);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .week-progress-fill {
            height: 100%;
            background: var(--success);
            transition: width 0.5s ease;
        }

        .week-description {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .expand-icon {
            transition: transform 0.3s ease;
            color: var(--text-secondary);
        }

        .week-card.expanded .expand-icon {
            transform: rotate(180deg);
        }

        /* Task List */
        .task-list {
            display: none;
            margin-top: 1.5rem;
            border-top: 1px solid var(--border);
            padding-top: 1.5rem;
        }

        .week-card.expanded .task-list {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .task-item {
            display: flex;
            align-items: center;
            padding: 1rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: all 0.2s ease;
        }

        .task-item:hover {
            background: var(--surface-hover);
            transform: translateX(2px);
        }

        .task-checkbox {
            margin-right: 1rem;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .task-content {
            flex: 1;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 0.25rem;
            border-radius: 4px;
        }

        .task-content:hover {
            background: var(--surface-hover);
        }

        .task-title {
            font-weight: 500;
            color: var(--text);
            margin-bottom: 0.25rem;
        }

        .task-description {
            font-size: 0.85rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .task-item.completed {
            opacity: 0.7;
        }

        .task-item.completed .task-title {
            text-decoration: line-through;
        }

        .task-detail-btn {
            margin-left: 1rem;
            padding: 4px 8px;
            font-size: 0.8rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.2s ease;
        }

        .task-item:hover .task-detail-btn {
            opacity: 1;
            transform: scale(1.05);
        }

        /* User Menu */
        .user-menu {
            position: relative;
        }

        .user-menu-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            background: none;
            border: none;
            padding: 8px 12px;
            border-radius: 8px;
            cursor: pointer;
            color: var(--text);
            transition: all 0.2s ease;
        }

        .user-menu-toggle:hover {
            background: var(--surface-hover);
            transform: scale(1.05);
        }

        .user-menu-dropdown {
            position: absolute;
            top: 100%;
            right: 0;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: 8px;
            box-shadow: 0 8px 25px var(--shadow-heavy);
            min-width: 200px;
            z-index: 9997;
            display: none;
        }

        .user-menu-dropdown.active {
            display: block;
            animation: dropdownSlide 0.2s ease;
        }

        @keyframes dropdownSlide {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-menu-item {
            display: block;
            width: 100%;
            padding: 12px 16px;
            text-align: left;
            background: none;
            border: none;
            color: var(--text);
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
        }

        .user-menu-item:hover {
            background: var(--surface-hover);
            transform: translateX(2px);
        }

        /* Quick Actions */
        .quick-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
            flex-wrap: wrap;
        }

        /* Mobile Responsive Design */
        @media (max-width: 768px) {
            .header {
                padding: 0 1rem;
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                display: flex;
                align-items: center;
                justify-content: space-between;
                z-index: 9999;
            }
            
            .header-buttons,
            #headerButtons,
            .user-menu,
            #userMenu,
            .user-menu-toggle,
            .user-menu-dropdown,
            #userMenuDropdown,
            .theme-menu-item,
            .theme-submenu,
            .theme-option {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
                position: fixed !important;
                left: -99999px !important;
                top: -99999px !important;
                width: 0 !important;
                height: 0 !important;
                overflow: hidden !important;
                pointer-events: none !important;
                z-index: -9999 !important;
            }

            .logo {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                width: 100px;
                height: 100px;
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
            }

            .hamburger {
                display: flex !important;
                position: absolute;
                right: 1rem;
                visibility: visible !important;
                opacity: 1 !important;
                flex-direction: column;
            }
            
            .hamburger span {
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
            }

            .welcome-notification {
                position: static;
                margin-bottom: 2rem;
                max-width: none;
                margin-top: 1rem;
            }

            .welcome-screen {
                padding: 1rem;
            }

            .welcome-title {
                font-size: 2.5rem;
            }

            .welcome-buttons {
                flex-direction: column;
                width: 100%;
                max-width: 300px;
            }

            .btn-large {
                width: 100%;
                justify-content: center;
            }

            .main-content {
                padding: 1rem;
                margin-top: 70px;
            }

            .dashboard-title {
                font-size: 2rem;
            }

            .dashboard-subtitle {
                font-size: 1rem;
            }

            .progress-ring {
                width: 150px;
                height: 150px;
            }

            .progress-percentage {
                font-size: 1.5rem;
            }

            .categories-container {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .tutorial-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .tutorial-view {
                padding: 1rem 0;
            }

            .weeks-container {
                flex-direction: column;
                gap: 1rem;
            }

            .week-card {
                padding: 1rem;
            }

            .week-title {
                font-size: 1.1rem;
            }

            .modal {
                padding: 1rem;
            }

            .modal-content {
                padding: 0;
                margin: auto;
                max-width: 90vw;
                min-height: 300px;
            }

            .modal-body {
                padding: 15px 20px 25px;
                min-height: 200px;
            }

            .modal-body.initial-state {
                justify-content: center;
            }

            .modal-logo {
                width: 100px;
                height: 29px;
            }

            .modal-header-clean {
                height: 80px;
            }

            .btn {
                font-size: 0.9rem;
                padding: 10px 16px;
                justify-content: center;
            }

            .form-input {
                font-size: 16px;
            }

            #mobileThemeOptions {
                display: none;
                flex-direction: column;
                background: var(--bg-secondary);
                border-radius: 8px;
                margin-top: 0.5rem;
            }

            #mobileThemeOptions .mobile-menu-item {
                margin: 0;
                border-radius: 0;
                font-size: 0.9rem;
            }

            #mobileThemeOptions .mobile-menu-item:first-child {
                border-top-left-radius: 8px;
                border-top-right-radius: 8px;
            }

            #mobileThemeOptions .mobile-menu-item:last-child {
                border-bottom-left-radius: 8px;
                border-bottom-right-radius: 8px;
            }

            .mobile-menu {
                position: fixed;
                max-height: calc(100vh - 70px);
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }

            .mobile-menu.active {
                overflow-y: auto;
            }

            .landing-page .hamburger {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
            }
        }

        @media (max-width: 480px) {
            .header {
                height: 60px;
                padding: 0 0.75rem;
            }

            .main-content {
                margin-top: 60px;
                padding: 0.75rem;
            }

            .mobile-menu {
                top: 60px;
                max-height: calc(100vh - 60px);
                z-index: 9998;
            }

            .logo {
                width: 90px;
                height: 90px;
            }

            .header-buttons,
            #headerButtons,
            .user-menu,
            #userMenu,
            .user-menu-toggle,
            .user-menu-dropdown,
            #userMenuDropdown {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
                position: fixed !important;
                left: -9999px !important;
                top: -9999px !important;
                width: 0 !important;
                height: 0 !important;
                overflow: hidden !important;
                pointer-events: none !important;
                z-index: -1 !important;
            }

            .welcome-title {
                font-size: 2rem;
            }

            .modal {
                padding: 0.5rem;
            }

            .modal-content {
                border-radius: 16px;
                max-width: 95vw;
                min-height: 280px;
            }

            .task-detail-close {
                top: 10px;
                right: 15px;
                width: 28px;
                height: 28px;
                font-size: 16px;
            }

            .modal-body {
                padding: 10px 18px 20px;
                min-height: 180px;
            }

            .modal-body.initial-state {
                justify-content: center;
            }

            .modal-header-clean {
                height: 70px;
            }

            .modal-title {
                font-size: 20px;
                margin-bottom: 24px;
            }

            .modal-subtitle {
                font-size: 14px;
                display: block;
            }

            .landing-page .hamburger {
                display: none !important;
                visibility: hidden !important;
                opacity: 0 !important;
            }
        }

        /* Loading States */
        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        .btn.loading {
            position: relative;
            color: transparent;
        }

        .btn.loading::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 16px;
            height: 16px;
            margin: -8px 0 0 -8px;
            border: 2px solid currentColor;
            border-top-color: transparent;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Success/Error Messages */
        .message {
            padding: 12px 16px;
            border-radius: 8px;
            margin: 1rem 0;
            text-align: center;
            font-weight: 500;
        }

        .message.success {
            background: rgba(52, 199, 89, 0.1);
            color: var(--success);
            border: 1px solid rgba(52, 199, 89, 0.2);
        }

        .message.error {
            background: rgba(255, 59, 48, 0.1);
            color: var(--danger);
            border: 1px solid rgba(255, 59, 48, 0.2);
        }

        /* Notification System */
        .notification {
            position: fixed;
            top: 90px;
            right: 2rem;
            padding: 1rem 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px var(--shadow);
            z-index: 9995;
            animation: slideInRight 0.3s ease;
            max-width: 350px;
        }

        .notification.success {
            background: var(--success);
            color: white;
        }

        .notification.error {
            background: var(--danger);
            color: white;
        }

        .notification.info {
            background: var(--primary);
            color: white;
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .landing-page {
            /* Additional styling if needed */
        }

        .task-item-wrapper {
            /* Wrapper to prevent event bubbling */
        }

        /* Offline indicator */
        .offline-indicator {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--warning);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            z-index: 9999;
            display: none;
        }

        /* Performance optimizations */
        .category-card,
        .tutorial-card,
        .week-card,
        .task-item {
            will-change: transform;
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Focus improvements */
        .btn:focus,
        .form-input:focus,
        .apple-form-input:focus {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }

        /* Enhanced loading state for buttons */
        .btn.loading {
            cursor: not-allowed;
        }

        /* Better mobile touch targets */
        @media (max-width: 768px) {
            .btn,
            .mobile-menu-item,
            .task-checkbox,
            .subtask-checkbox {
                min-height: 44px;
                min-width: 44px;
            }
        }
    </style>
</head>
<body data-theme="dark" class="no-scroll landing-page">
    <!-- Header -->
    <div class="header" id="header">
        <!-- Logo only (no text) -->
        <div class="logo" onclick="goHome()"></div>
        
        <!-- Desktop Navigation - Only Request Access in header -->
        <div class="header-buttons" id="headerButtons">
            <button class="btn btn-primary" onclick="showRequestAccessModal()">Request Access</button>
        </div>
        
        <!-- Mobile Hamburger Menu -->
        <div class="hamburger" id="hamburger" onclick="toggleMobileMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>
        
        <!-- Desktop User Menu -->
        <div class="user-menu hidden" id="userMenu">
            <button class="user-menu-toggle" onclick="toggleUserMenu()">
                <span id="userName">User</span>
                <span>â–¼</span>
            </button>
            <div class="user-menu-dropdown" id="userMenuDropdown">
                <button class="user-menu-item" onclick="startLabEnvironment()">Start New Lab</button>
                <button class="user-menu-item" onclick="showLabHistoryModal()" id="labHistoryButton">Lab History</button>
                <button class="user-menu-item" onclick="showAdminPanel()" id="adminButton" style="display: none;">Admin Panel</button>
                <div class="theme-menu-item">
                    <button class="theme-menu-toggle">
                        <span>Theme</span>
                        <span>â–¶</span>
                    </button>
                    <div class="theme-submenu">
                        <button class="theme-option jedi" onclick="setTheme('light')">
                            Light Jedi
                        </button>
                        <button class="theme-option sith active" onclick="setTheme('dark')">
                            Dark Sith
                        </button>
                    </div>
                </div>
                <button class="user-menu-item" onclick="logout()">Sign Out</button>
            </div>
        </div>
    </div>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu" id="mobileMenu">
        <div class="mobile-menu-items" id="mobileMenuItems">
            <!-- Items populated by JavaScript based on auth state -->
        </div>
    </div>

    <!-- Welcome Screen - Only Sign In button in center -->
    <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-notification">
            Welcome to Velocity Lab! Request access to begin your MSP training journey with our Exchange Hybrid LAB and comprehensive tutorials.
        </div>
        
        <h1 class="welcome-title">MSP Training Platform</h1>
        <p class="welcome-subtitle">
            Exchange Hybrid LAB + Comprehensive Tutorials<br>
            Professional development for managed service providers
        </p>
        
        <div class="welcome-buttons">
            <button class="btn btn-primary btn-large" onclick="showSignInModal()">
                Sign In
            </button>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div class="main-content hidden" id="mainContent">
        <div class="dashboard-header">
            <h1 class="dashboard-title">Your Training Journey</h1>
            <p class="dashboard-subtitle">Exchange Hybrid LAB with progress tracking + comprehensive MSP tutorials</p>
        </div>

        <!-- Categories Grid (shows by default) -->
        <div class="categories-container" id="categoriesContainer">
            <!-- Category cards will be populated by JavaScript -->
        </div>

        <!-- Course View (shows when Exchange LAB is selected) -->
        <div class="course-view hidden" id="courseView">
            <!-- Progress Ring -->
            <div class="progress-section">
                <div class="progress-ring">
                    <svg viewBox="0 0 120 120">
                        <circle class="progress-ring-bg" cx="60" cy="60" r="54"/>
                        <circle class="progress-ring-fill" cx="60" cy="60" r="54" 
                                stroke-dasharray="0 339.292" id="progressRing"/>
                    </svg>
                    <div class="progress-text">
                        <div class="progress-percentage" id="progressPercentage">0%</div>
                        <div class="progress-label">Complete</div>
                    </div>
                </div>
            </div>

            <!-- Week Cards -->
            <div class="weeks-container" id="weeksContainer">
                <!-- Week cards will be populated by JavaScript -->
            </div>
            
            <div style="text-align: center; margin-top: 2rem;">
                <button class="btn btn-secondary" onclick="showCategoriesView()">â† Back to Categories</button>
            </div>
        </div>

        <!-- Tutorial View (shows when tutorial category is selected) -->
        <div class="tutorial-view hidden" id="tutorialView">
            <!-- Tutorial content will be populated by JavaScript -->
        </div>
    </div>

    <!-- Apple-style Sign In Modal -->
    <div class="modal" id="signInModal">
        <div class="modal-content apple-modal">
            <button class="modal-close" onclick="closeModal('signInModal')">&times;</button>
            
            <!-- Clean header with logo -->
            <div class="modal-header-clean">
                <div class="modal-logo"></div>
            </div>
            
            <div class="modal-body">
                <h2 class="modal-title">Sign in to Velocity Lab</h2>
                <p class="modal-subtitle">Welcome back to your training journey</p>
                
                <form id="signInForm">
                    <div class="apple-form-group">
                        <input type="email" class="apple-form-input" id="signInEmail" name="email" 
                               placeholder="Email" required>
                    </div>
                    
                    <div class="apple-form-group hidden" id="passwordGroup">
                        <div class="password-field">
                            <input type="password" class="apple-form-input" id="signInPassword" name="password" 
                                   placeholder="Password" required>
                            <button type="submit" class="password-toggle" title="Sign In">
                                â†’
                            </button>
                        </div>
                    </div>
                    
                    <div class="apple-checkbox-container hidden" id="rememberGroup">
                        <input type="checkbox" class="apple-checkbox" name="remember" id="rememberMe">
                        <label class="apple-checkbox-label" for="rememberMe">Remember me for 30 days</label>
                    </div>
                    
                    <div id="signInMessage"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Request Access Modal -->
    <div class="modal" id="requestAccessModal">
        <div class="modal-content large">
            <button class="modal-close" onclick="closeModal('requestAccessModal')">&times;</button>
            
            <div class="modal-header">
                <h2>ðŸš€ Request Training Access</h2>
                <p style="color: var(--text-secondary);">Join our comprehensive MSP training platform</p>
            </div>
            
            <div class="modal-body">
                <div class="request-form">
                    <h3>Access Request Form</h3>
                    <p>Please fill out the form below to request access to our training platform. Our team will review your request and create your account manually.</p>
                    
                    <form action="https://api.web3forms.com/submit" method="POST" id="requestAccessForm">
                        <!-- Replace with your Access Key -->
                        <input type="hidden" name="access_key" value="fe37519c-2a4b-48ee-a090-1746e3ad0010">
                        
                        <!-- Form Inputs -->
                        <div class="form-group">
                            <label class="form-label" for="requestName">Full Name *</label>
                            <input type="text" class="form-input" id="requestName" name="name" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="requestEmail">Email Address *</label>
                            <input type="email" class="form-input" id="requestEmail" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="requestCompany">Company/Organization</label>
                            <input type="text" class="form-input" id="requestCompany" name="company">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="requestMessage">Tell us about your training goals *</label>
                            <textarea class="form-input form-textarea" id="requestMessage" name="message" required 
                                      placeholder="What specific areas are you interested in? (Exchange LAB, Networking, Azure, Firewalls, etc.)"></textarea>
                        </div>
                        
                        <!-- Honeypot Spam Protection -->
                        <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
                        
                        <!-- Custom Confirmation / Success Page -->
                        <input type="hidden" name="redirect" value="https://labverse.co.za/thanks.html">
                        
                        <button type="submit" class="form-submit">Submit Access Request</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Task Detail Modal -->
    <div class="modal" id="taskDetailModal">
        <div class="modal-content large">
            <button class="task-detail-close" onclick="closeModal('taskDetailModal')">&times;</button>
            <div class="modal-header">
                <h2 id="taskDetailTitle">Task Details</h2>
            </div>
            <div class="task-detail-content" id="taskDetailContent">
                <!-- Task details will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Tutorial Detail Modal -->
    <div class="modal" id="tutorialDetailModal">
        <div class="modal-content large">
            <button class="modal-close" onclick="closeModal('tutorialDetailModal')">&times;</button>
            <div class="modal-header">
                <h2 id="tutorialDetailTitle">Tutorial Guide</h2>
            </div>
            <div class="task-detail-content" id="tutorialDetailContent">
                <!-- Tutorial details will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Lab History Modal -->
    <div class="modal" id="labHistoryModal">
        <div class="modal-content large">
            <button class="modal-close" onclick="closeModal('labHistoryModal')">&times;</button>
            <div class="modal-header">
                <h2>ðŸ“Š Lab History</h2>
                <p style="color: var(--text-secondary);">Your Exchange Hybrid LAB progress timeline</p>
            </div>
            <div class="lab-history-modal-content" id="labHistoryModalContent">
                <!-- Lab history content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div class="modal" id="adminModal">
        <div class="modal-content large">
            <button class="modal-close" onclick="closeModal('adminModal')">&times;</button>
            <div class="modal-header">
                <h2>ðŸ‘‘ Admin Panel</h2>
                <p style="color: var(--text-secondary);">Exchange LAB progress leaderboard</p>
            </div>
            <div class="lab-history-modal-content" id="adminContent">
                <!-- Admin content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Offline Indicator -->
    <div class="offline-indicator" id="offlineIndicator">
        ðŸ“¡ You're offline - some features may be limited
    </div>

    <script>
        // Global application state
        const appState = {
            user: null,
            sessionToken: null,
            progress: {},
            authenticated: false,
            labHistory: [],
            tasks: [],
            categories: [],
            currentCategory: null,
            currentView: 'categories', // 'categories', 'lab', 'tutorial'
            isWelcomeShown: false,
            shownNotifications: new Set()
        };

        // API configuration
        const API_BASE = '/api';

        // Tutorial content objects (loaded from external files)
        window.NETWORKING_TUTORIALS = {
            "zabbix_setup": {
                "title": "Setting up Zabbix monitoring server",
                "content": `
                    <div class="tutorial-content">
                        <h2>Setting up Zabbix Monitoring Server</h2>
                        
                        <h3>Prerequisites</h3>
                        <ul>
                            <li>Ubuntu 20.04 LTS or CentOS 8 server</li>
                            <li>Minimum 2GB RAM, 4GB recommended</li>
                            <li>MySQL or PostgreSQL database</li>
                            <li>Apache or Nginx web server</li>
                        </ul>

                        <h3>Step 1: Install Zabbix Repository</h3>
                        <div class="code-block">
                            <code># Ubuntu 20.04
wget https://repo.zabbix.com/zabbix/6.0/ubuntu/pool/main/z/zabbix-release/zabbix-release_6.0-4+ubuntu20.04_all.deb
sudo dpkg -i zabbix-release_6.0-4+ubuntu20.04_all.deb
sudo apt update</code>
                        </div>

                        <h3>Step 2: Install Zabbix Server and Agent</h3>
                        <div class="code-block">
                            <code>sudo apt install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-sql-scripts zabbix-agent</code>
                        </div>

                        <h3>Step 3: Configure Database</h3>
                        <div class="code-block">
                            <code>mysql -uroot -p
mysql> create database zabbix character set utf8mb4 collate utf8mb4_bin;
mysql> create user zabbix@localhost identified by 'password';
mysql> grant all privileges on zabbix.* to zabbix@localhost;
mysql> set global log_bin_trust_function_creators = 1;
mysql> quit;</code>
                        </div>

                        <div class="code-block">
                            <code>zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql --default-character-set=utf8mb4 -uzabbix -p zabbix</code>
                        </div>

                        <h3>Step 4: Configure Zabbix Server</h3>
                        <p>Edit <code>/etc/zabbix/zabbix_server.conf</code>:</p>
                        <div class="code-block">
                            <code>DBPassword=password</code>
                        </div>

                        <h3>Step 5: Start and Enable Services</h3>
                        <div class="code-block">
                            <code>sudo systemctl restart zabbix-server zabbix-agent apache2
sudo systemctl enable zabbix-server zabbix-agent apache2</code>
                        </div>

                        <div class="tutorial-tips">
                            <h4>ðŸ’¡ Pro Tips</h4>
                            <ul>
                                <li>Access web interface at http://your-server-ip/zabbix</li>
                                <li>Default credentials: Admin / zabbix</li>
                                <li>Change default password immediately</li>
                                <li>Configure firewall to allow ports 80, 443, 10050, 10051</li>
                            </ul>
                        </div>

                        <div class="tutorial-warning">
                            <h4>âš ï¸ Security Warning</h4>
                            <p>Always use strong passwords and enable HTTPS for production deployments. Consider setting up SSL certificates and restricting database access.</p>
                        </div>
                    </div>
                `
            },
            "zabbix_advanced": {
                "title": "Monitoring with Zabbix advanced features",
                "content": `
                    <div class="tutorial-content">
                        <h2>Advanced Zabbix Monitoring Features</h2>
                        
                        <h3>Custom User Parameters</h3>
                        <p>Create custom monitoring scripts and parameters for specific applications.</p>
                        
                        <h4>Example: Custom Disk Usage Script</h4>
                        <div class="code-block">
                            <code># /etc/zabbix/zabbix_agentd.conf
UserParameter=custom.disk.usage[*],df -h $1 | tail -1 | awk '{print $5}' | sed 's/%//'</code>
                        </div>

                        <h3>SNMP Monitoring Setup</h3>
                        <div class="code-block">
                            <code># Install SNMP utilities
sudo apt install snmp-mibs-downloader
sudo download-mibs

# Test SNMP connectivity
snmpwalk -v2c -c public [device_ip] 1.3.6.1.2.1.1.1.0</code>
                        </div>

                        <h3>Network Discovery Rules</h3>
                        <p>Configure automatic discovery of network devices:</p>
                        <ol>
                            <li>Go to Configuration â†’ Discovery</li>
                            <li>Create discovery rule with IP range</li>
                            <li>Set checks: SNMP, ICMP ping, HTTP</li>
                            <li>Configure actions for auto-registration</li>
                        </ol>

                        <h3>Template Creation</h3>
                        <div class="tutorial-tips">
                            <h4>Creating Effective Templates</h4>
                            <ul>
                                <li>Group related items logically</li>
                                <li>Use appropriate data types and intervals</li>
                                <li>Set meaningful trigger expressions</li>
                                <li>Include relevant graphs and screens</li>
                            </ul>
                        </div>

                        <h3>Alerting and Notifications</h3>
                        <h4>Email Configuration</h4>
                        <div class="code-block">
                            <code># Media type configuration
Server: smtp.gmail.com
Port: 587
Username: your-email@gmail.com
Password: app-password
Connection security: STARTTLS</code>
                        </div>

                        <h4>Webhook Integration (Slack)</h4>
                        <div class="code-block">
                            <code>// Slack webhook script
var Slack = {
    endpoint: 'https://hooks.slack.com/services/YOUR/WEBHOOK/URL',
    
    sendMessage: function(channel, message) {
        var params = {
            channel: channel,
            text: message,
            username: 'Zabbix'
        };
        
        var req = new HttpRequest();
        req.addHeader('Content-Type: application/json');
        var response = req.post(Slack.endpoint, JSON.stringify(params));
        
        if (response !== null) {
            Zabbix.log(4, '[Slack Webhook] Response: ' + response);
        }
    }
};</code>
                        </div>

                        <h3>Performance Optimization</h3>
                        <div class="tutorial-warning">
                            <h4>âš ï¸ Performance Best Practices</h4>
                            <ul>
                                <li>Adjust polling intervals based on criticality</li>
                                <li>Use bulk operations for large deployments</li>
                                <li>Implement database partitioning</li>
                                <li>Monitor Zabbix server performance</li>
                            </ul>
                        </div>
                    </div>
                `
            }
        };

        window.AZURE_TUTORIALS = {
            "defender_servers": {
                "title": "Microsoft Defender for Servers deployment",
                "content": `
                    <div class="tutorial-content">
                        <h2>Microsoft Defender for Servers Deployment</h2>
                        
                        <h3>Overview</h3>
                        <p>Microsoft Defender for Servers provides advanced threat protection for Windows and Linux servers in Azure, on-premises, and other clouds.</p>

                        <h3>Prerequisites</h3>
                        <ul>
                            <li>Azure subscription with Security Center enabled</li>
                            <li>Appropriate permissions (Security Admin or Contributor)</li>
                            <li>Log Analytics workspace</li>
                            <li>Windows Server 2012 R2+ or supported Linux distributions</li>
                        </ul>

                        <h3>Step 1: Enable Defender for Servers</h3>
                        <ol>
                            <li>Navigate to Microsoft Defender for Cloud in Azure Portal</li>
                            <li>Go to Environment Settings</li>
                            <li>Select your subscription</li>
                            <li>Enable "Servers" under Defender plans</li>
                            <li>Choose Plan 1 or Plan 2 based on requirements</li>
                        </ol>

                        <h3>Step 2: Configure Data Collection</h3>
                        <div class="code-block">
                            <code># PowerShell - Install Log Analytics Agent
$WorkspaceId = "your-workspace-id"
$WorkspaceKey = "your-workspace-key"

# Download and install agent
$AgentUri = "https://go.microsoft.com/fwlink/?LinkId=828603"
Invoke-WebRequest -Uri $AgentUri -OutFile "MMASetup-AMD64.exe"

# Silent installation
.\MMASetup-AMD64.exe /qn NOAPM=1 ADD_OPINSIGHTS_WORKSPACE=1 OPINSIGHTS_WORKSPACE_AZURE_CLOUD_TYPE=0 OPINSIGHTS_WORKSPACE_ID="$WorkspaceId" OPINSIGHTS_WORKSPACE_KEY="$WorkspaceKey" AcceptEndUserLicenseAgreement=1</code>
                        </div>

                        <h3>Step 3: Configure Auto-Provisioning</h3>
                        <ol>
                            <li>In Defender for Cloud, go to Environment Settings</li>
                            <li>Select your subscription</li>
                            <li>Click "Auto provisioning"</li>
                            <li>Enable "Log Analytics agent for Azure VMs"</li>
                            <li>Configure workspace selection</li>
                        </ol>

                        <h3>Step 4: Deploy to Non-Azure Servers</h3>
                        <h4>Windows Servers</h4>
                        <div class="code-block">
                            <code># PowerShell script for bulk deployment
$servers = @("server1.domain.com", "server2.domain.com")
$WorkspaceId = "your-workspace-id"
$WorkspaceKey = "your-workspace-key"

foreach ($server in $servers) {
    Invoke-Command -ComputerName $server -ScriptBlock {
        # Download and install MMA
        $AgentUri = "https://go.microsoft.com/fwlink/?LinkId=828603"
        Invoke-WebRequest -Uri $AgentUri -OutFile "C:\temp\MMASetup-AMD64.exe"
        
        Start-Process -FilePath "C:\temp\MMASetup-AMD64.exe" -ArgumentList "/qn NOAPM=1 ADD_OPINSIGHTS_WORKSPACE=1 OPINSIGHTS_WORKSPACE_ID=$using:WorkspaceId OPINSIGHTS_WORKSPACE_KEY=$using:WorkspaceKey AcceptEndUserLicenseAgreement=1" -Wait
    }
}</code>
                        </div>

                        <h4>Linux Servers</h4>
                        <div class="code-block">
                            <code># Linux installation script
wget https://raw.githubusercontent.com/Microsoft/OMS-Agent-for-Linux/master/installer/scripts/onboard_agent.sh
sudo sh onboard_agent.sh -w your-workspace-id -s your-workspace-key

# Verify installation
sudo /opt/microsoft/omsagent/bin/service_control status</code>
                        </div>

                        <h3>Step 5: Verify Deployment</h3>
                        <div class="tutorial-tips">
                            <h4>Verification Checklist</h4>
                            <ul>
                                <li>Check Defender for Cloud Inventory for discovered servers</li>
                                <li>Verify heartbeat data in Log Analytics</li>
                                <li>Review security recommendations</li>
                                <li>Test alert generation with EICAR test file</li>
                            </ul>
                        </div>

                        <h3>Plan Comparison</h3>
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                                <tr style="background: var(--surface); border: 1px solid var(--border);">
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Feature</th>
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Plan 1</th>
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Plan 2</th>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Vulnerability Assessment</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">âœ…</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">âœ…</td>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Just-in-Time VM Access</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">âœ…</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">âœ…</td>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Microsoft Defender Antivirus</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">âŒ</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">âœ…</td>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">File Integrity Monitoring</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">âŒ</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">âœ…</td>
                                </tr>
                            </table>
                        </div>

                        <div class="tutorial-warning">
                            <h4>âš ï¸ Important Notes</h4>
                            <ul>
                                <li>Plan 2 required for advanced threat protection</li>
                                <li>Costs apply per server per month</li>
                                <li>30-day free trial available</li>
                                <li>Legacy OMS agent being replaced by Azure Monitor Agent</li>
                            </ul>
                        </div>
                    </div>
                `
            },
            "defender_cloud": {
                "title": "Microsoft Defender for Cloud configuration",
                "content": `
                    <div class="tutorial-content">
                        <h2>Microsoft Defender for Cloud Configuration</h2>
                        
                        <h3>Initial Setup and Configuration</h3>
                        <p>Microsoft Defender for Cloud provides unified security management and advanced threat protection across hybrid cloud workloads.</p>

                        <h3>Step 1: Enable Enhanced Security Features</h3>
                        <ol>
                            <li>Navigate to Microsoft Defender for Cloud</li>
                            <li>Go to Environment Settings</li>
                            <li>Select subscription/management group</li>
                            <li>Enable enhanced security features:</li>
                        </ol>

                        <div style="margin: 1rem 0; padding: 1rem; background: var(--surface); border-radius: 8px;">
                            <h4>Recommended Defender Plans:</h4>
                            <ul>
                                <li>âœ… <strong>Servers</strong> - VM and server protection</li>
                                <li>âœ… <strong>App Service</strong> - Web application protection</li>
                                <li>âœ… <strong>Databases</strong> - SQL database protection</li>
                                <li>âœ… <strong>Storage</strong> - Storage account protection</li>
                                <li>âœ… <strong>Key Vault</strong> - Key vault protection</li>
                                <li>âœ… <strong>Container Registries</strong> - Container image scanning</li>
                                <li>âœ… <strong>Kubernetes</strong> - AKS cluster protection</li>
                            </ul>
                        </div>

                        <h3>Step 2: Configure Security Policies</h3>
                        <div class="code-block">
                            <code># PowerShell - Set custom security policy
$subscriptionId = "your-subscription-id"
$policySetDefinitionId = "/providers/Microsoft.Authorization/policySetDefinitions/1f3afdf9-d0c9-4c3d-847f-89da613e70a8"

# Assign Azure Security Benchmark
New-AzPolicyAssignment -Name "ASB-Assignment" -PolicySetDefinition $policySetDefinitionId -Scope "/subscriptions/$subscriptionId"</code>
                        </div>

                        <h3>Step 3: Configure Continuous Export</h3>
                        <ol>
                            <li>Go to Environment Settings â†’ Continuous Export</li>
                            <li>Configure export to:</li>
                            <ul>
                                <li>Log Analytics workspace</li>
                                <li>Event Hub</li>
                                <li>Storage Account</li>
                            </ul>
                            <li>Select data types to export</li>
                            <li>Set export frequency</li>
                        </ol>

                        <h3>Step 4: Configure Email Notifications</h3>
                        <div class="code-block">
                            <code># Azure CLI - Configure email notifications
az account set --subscription "your-subscription-id"

# Set security contact
az security contact create \
  --email "security@company.com" \
  --phone "+1234567890" \
  --alert-notifications "On" \
  --alerts-admins "On"</code>
                        </div>

                        <h3>Step 5: Integrate with SIEM</h3>
                        <h4>Azure Sentinel Integration</h4>
                        <div class="code-block">
                            <code># KQL Query for Defender for Cloud alerts
SecurityAlert
| where ProviderName == "ASC"
| where AlertSeverity in ("High", "Medium")
| extend AlertData = parse_json(ExtendedProperties)
| project TimeGenerated, AlertName, AlertSeverity, CompromisedEntity, RemediationSteps</code>
                        </div>

                        <h3>Governance and Compliance</h3>
                        <div class="tutorial-tips">
                            <h4>ðŸ’¡ Compliance Management</h4>
                            <ul>
                                <li>Enable regulatory compliance dashboard</li>
                                <li>Track compliance with standards (PCI DSS, ISO 27001, etc.)</li>
                                <li>Use secure score to measure security posture</li>
                                <li>Implement recommendation remediation</li>
                            </ul>
                        </div>

                        <h3>Advanced Threat Protection Features</h3>
                        <h4>Just-in-Time VM Access</h4>
                        <div class="code-block">
                            <code># PowerShell - Configure JIT access
$JitPolicy = @{
    id = "/subscriptions/subscription-id/resourceGroups/rg-name/providers/Microsoft.Compute/virtualMachines/vm-name"
    ports = @(
        @{
            number = 22
            protocol = "TCP"
            allowedSourceAddressPrefix = "your-ip-address"
            maxRequestAccessDuration = "PT3H"
        }
    )
}

# Apply JIT policy
Set-AzJitNetworkAccessPolicy -ResourceGroupName "rg-name" -Location "East US" -Name "jit-policy" -VirtualMachine $JitPolicy</code>
                        </div>

                        <div class="tutorial-warning">
                            <h4>âš ï¸ Cost Optimization</h4>
                            <ul>
                                <li>Review defender plan costs regularly</li>
                                <li>Use resource tags for cost allocation</li>
                                <li>Consider plan tiers based on criticality</li>
                                <li>Monitor usage with Azure Cost Management</li>
                            </ul>
                        </div>
                    </div>
                `
            }
        };

        window.MICROSOFT365_TUTORIALS = {
            "new_tenant": {
                "title": "Creating new M365 tenant for customers",
                "content": `
                    <div class="tutorial-content">
                        <h2>Creating New Microsoft 365 Tenant for Customers</h2>
                        
                        <h3>Prerequisites</h3>
                        <ul>
                            <li>Microsoft Partner Center access</li>
                            <li>Customer's domain name</li>
                            <li>Customer contact information</li>
                            <li>Billing information and credit card</li>
                        </ul>

                        <h3>Step 1: Access Partner Center</h3>
                        <ol>
                            <li>Login to <a href="https://partner.microsoft.com" target="_blank">Microsoft Partner Center</a></li>
                            <li>Navigate to Customers section</li>
                            <li>Click "Add a customer"</li>
                        </ol>

                        <h3>Step 2: Customer Information Setup</h3>
                        <div class="code-block">
                            <code>Customer Details Required:
- Company Name
- Primary Contact Name & Email
- Phone Number
- Business Address
- Country/Region
- Language Preference
- Currency
- Tax ID (if applicable)</code>
                        </div>

                        <h3>Step 3: Domain Configuration</h3>
                        <h4>Option A: Use .onmicrosoft.com domain</h4>
                        <p>Fastest setup for immediate access:</p>
                        <div class="code-block">
                            <code>Format: customername.onmicrosoft.com
Example: acmecorp.onmicrosoft.com</code>
                        </div>

                        <h4>Option B: Custom Domain Setup</h4>
                        <ol>
                            <li>Purchase or verify domain ownership</li>
                            <li>Add domain to tenant</li>
                            <li>Add DNS verification records</li>
                            <li>Configure MX, CNAME, and TXT records</li>
                        </ol>

                        <h3>Step 4: Select Subscription Plans</h3>
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                                <tr style="background: var(--surface); border: 1px solid var(--border);">
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Plan</th>
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Use Case</th>
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Key Features</th>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Business Basic</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Small businesses</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Email, Teams, OneDrive (1TB)</td>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Business Standard</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Growing businesses</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">+ Office apps, SharePoint</td>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Business Premium</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Security-focused</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">+ Advanced security features</td>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Enterprise E3/E5</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Large organizations</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Advanced compliance, analytics</td>
                                </tr>
                            </table>
                        </div>

                        <h3>Step 5: Initial Admin Account Setup</h3>
                        <div class="code-block">
                            <code># PowerShell - Connect to new tenant
$UserCredential = Get-Credential
Connect-ExchangeOnline -Credential $UserCredential

# Create additional admin accounts
New-Mailbox -Name "IT Admin" -UserPrincipalName "itadmin@customer.com" -Password (ConvertTo-SecureString "TempPassword123!" -AsPlainText -Force)

# Assign admin roles
Add-RoleGroupMember -Identity "Organization Management" -Member "itadmin@customer.com"</code>
                        </div>

                        <h3>Step 6: Basic Security Configuration</h3>
                        <div class="tutorial-tips">
                            <h4>Essential Security Setup</h4>
                            <ul>
                                <li>Enable Multi-Factor Authentication (MFA)</li>
                                <li>Configure conditional access policies</li>
                                <li>Set up security defaults</li>
                                <li>Enable audit logging</li>
                                <li>Configure data loss prevention (DLP)</li>
                            </ul>
                        </div>

                        <h3>Step 7: DNS Configuration</h3>
                        <h4>Required DNS Records</h4>
                        <div class="code-block">
                            <code># MX Record
Priority: 0
Host: @
Value: customer-com.mail.protection.outlook.com

# SPF Record (TXT)
Host: @
Value: v=spf1 include:spf.protection.outlook.com -all

# DKIM Records (CNAME)
Host: selector1._domainkey
Value: selector1-customer-com._domainkey.customer.onmicrosoft.com

Host: selector2._domainkey  
Value: selector2-customer-com._domainkey.customer.onmicrosoft.com

# DMARC Record (TXT)
Host: _dmarc
Value: v=DMARC1; p=quarantine; rua=mailto:dmarc@customer.com</code>
                        </div>

                        <h3>Step 8: User Migration Planning</h3>
                        <div class="tutorial-warning">
                            <h4>âš ï¸ Migration Checklist</h4>
                            <ul>
                                <li>Export existing email data</li>
                                <li>Plan mailbox migration schedule</li>
                                <li>Prepare user communication</li>
                                <li>Set up mail forwarding during transition</li>
                                <li>Test mail flow before cutover</li>
                            </ul>
                        </div>

                        <h3>Post-Setup Tasks</h3>
                        <ol>
                            <li>Configure SharePoint Online</li>
                            <li>Set up Teams policies</li>
                            <li>Configure retention policies</li>
                            <li>Enable advanced threat protection</li>
                            <li>Create backup/recovery plan</li>
                            <li>Document admin credentials securely</li>
                        </ol>
                    </div>
                `
            },
            "tenant_migration": {
                "title": "Tenant migration and merger procedures",
                "content": `
                    <div class="tutorial-content">
                        <h2>Microsoft 365 Tenant Migration and Merger</h2>
                        
                        <h3>Migration Scenarios</h3>
                        <ul>
                            <li><strong>Tenant-to-Tenant Migration:</strong> Moving users between different M365 tenants</li>
                            <li><strong>Cross-Tenant Synchronization:</strong> Ongoing sync between tenants</li>
                            <li><strong>Acquisition/Merger:</strong> Combining organizations</li>
                            <li><strong>Divestiture:</strong> Splitting tenant resources</li>
                        </ul>

                        <h3>Pre-Migration Planning</h3>
                        <div class="tutorial-tips">
                            <h4>Discovery and Assessment</h4>
                            <ul>
                                <li>Inventory all users, groups, and distribution lists</li>
                                <li>Document SharePoint sites and libraries</li>
                                <li>List Teams channels and files</li>
                                <li>Review security and compliance settings</li>
                                <li>Identify custom applications and integrations</li>
                            </ul>
                        </div>

                        <h3>Method 1: Native Cross-Tenant Migration</h3>
                        <h4>Prerequisites</h4>
                        <div class="code-block">
                            <code># PowerShell - Verify tenant readiness
Connect-ExchangeOnline
Get-OrganizationConfig | Select-Object IsDehydrated

# Check migration endpoints
Get-MigrationEndpoint
Get-MigrationBatch</code>
                        </div>

                        <h4>Configure Cross-Tenant Relationship</h4>
                        <div class="code-block">
                            <code># Source tenant configuration
$TargetTenant = "target-tenant.onmicrosoft.com"
$ApplicationId = "your-app-id"
$ApplicationSecret = ConvertTo-SecureString "your-secret" -AsPlainText -Force

# Create migration endpoint
New-MigrationEndpoint -ExchangeRemoteMove -Name "CrossTenantEndpoint" -RemoteServer "outlook.office365.com" -ApplicationId $ApplicationId -AppSecretKeyVaultUrl "https://vault.vault.azure.net/secrets/secret"</code>
                        </div>

                        <h3>Method 2: Third-Party Migration Tools</h3>
                        <h4>Popular Migration Solutions</h4>
                        <ul>
                            <li><strong>BitTitan MigrationWiz:</strong> Comprehensive migration platform</li>
                            <li><strong>AvePoint FLY:</strong> Enterprise-grade migration</li>
                            <li><strong>ShareGate:</strong> SharePoint and Teams migration</li>
                            <li><strong>Quest On Demand:</strong> Complete tenant migration suite</li>
                        </ul>

                        <h3>Email Migration Process</h3>
                        <h4>Batch Migration Approach</h4>
                        <div class="code-block">
                            <code># PowerShell - Create migration batch
$Users = Import-Csv "C:\Migration\users.csv"

# Create migration batch
New-MigrationBatch -Name "Batch1" -SourceEndpoint "SourceEndpoint" -TargetEndpoint "TargetEndpoint" -CSVData $Users -AutoStart

# Monitor migration progress
Get-MigrationBatch "Batch1" | Get-MigrationUser | Select-Object Identity, Status, ItemsTransferred</code>
                        </div>

                        <h3>SharePoint and OneDrive Migration</h3>
                        <h4>SharePoint Migration Tool (SPMT)</h4>
                        <div class="code-block">
                            <code># PowerShell SPMT commands
Import-Module Microsoft.SharePoint.MigrationTool.PowerShell

# Define source and target
$SourceSite = "https://source-tenant.sharepoint.com/sites/sitename"
$TargetSite = "https://target-tenant.sharepoint.com/sites/sitename"

# Start migration
Start-SPMTMigration -SourceSiteUrl $SourceSite -TargetSiteUrl $TargetSite -MigrateAll</code>
                        </div>

                        <h3>Teams Migration</h3>
                        <div class="tutorial-warning">
                            <h4>âš ï¸ Teams Migration Limitations</h4>
                            <ul>
                                <li>Teams structure must be recreated manually</li>
                                <li>Chat history cannot be migrated natively</li>
                                <li>Channel files migrate with SharePoint</li>
                                <li>Apps and connectors need reconfiguration</li>
                            </ul>
                        </div>

                        <h3>User Identity Management</h3>
                        <h4>Azure AD Cross-Tenant Synchronization</h4>
                        <div class="code-block">
                            <code># Azure CLI - Configure cross-tenant sync
az login --tenant source-tenant-id

# Create service principal for sync
az ad sp create-for-rbac --name "CrossTenantSync" --role "Directory Synchronization Accounts"

# Configure in target tenant
az login --tenant target-tenant-id
az ad user create --display-name "Sync Service" --user-principal-name sync@target-tenant.com</code>
                        </div>

                        <h3>Security and Compliance Migration</h3>
                        <h4>Retention Policies</h4>
                        <div class="code-block">
                            <code># PowerShell - Export/Import retention policies
Connect-IPPSSession

# Export existing policies
$Policies = Get-RetentionCompliancePolicy
$Policies | Export-Csv "C:\Migration\retention-policies.csv"

# Create policies in target tenant
foreach ($Policy in $Policies) {
    New-RetentionCompliancePolicy -Name $Policy.Name -ExchangeLocation $Policy.ExchangeLocation
}</code>
                        </div>

                        <h3>DNS Cutover Process</h3>
                        <h4>Staged Approach</h4>
                        <ol>
                            <li>Lower DNS TTL values (300 seconds)</li>
                            <li>Configure mail routing to both tenants</li>
                            <li>Update MX records gradually</li>
                            <li>Monitor mail flow during transition</li>
                            <li>Complete cutover after validation</li>
                        </ol>

                        <h3>Post-Migration Tasks</h3>
                        <div class="tutorial-tips">
                            <h4>Validation Checklist</h4>
                            <ul>
                                <li>Verify user authentication and access</li>
                                <li>Test email flow and delivery</li>
                                <li>Confirm SharePoint site accessibility</li>
                                <li>Validate Teams functionality</li>
                                <li>Check mobile device connectivity</li>
                                <li>Review security and compliance settings</li>
                            </ul>
                        </div>

                        <h3>Rollback Planning</h3>
                        <div class="tutorial-warning">
                            <h4>âš ï¸ Contingency Planning</h4>
                            <ul>
                                <li>Maintain source tenant for 30+ days</li>
                                <li>Keep DNS records reversible</li>
                                <li>Document all configuration changes</li>
                                <li>Prepare rapid rollback procedures</li>
                                <li>Test rollback process before migration</li>
                            </ul>
                        </div>
                    </div>
                `
            }
        };

        window.FIREWALL_TUTORIALS = {
            "sophos_setup": {
                "title": "Sophos firewall initial setup and configuration",
                "content": `
                    <div class="tutorial-content">
                        <h2>Sophos Firewall Initial Setup and Configuration</h2>
                        
                        <h3>Hardware Requirements</h3>
                        <ul>
                            <li>Minimum 4GB RAM (8GB recommended)</li>
                            <li>Dual network interfaces (WAN/LAN)</li>
                            <li>USB drive for initial configuration</li>
                            <li>Console cable (optional)</li>
                        </ul>

                        <h3>Step 1: Initial Boot and Setup</h3>
                        <ol>
                            <li>Connect console cable (optional for troubleshooting)</li>
                            <li>Connect WAN cable to designated port</li>
                            <li>Connect LAN cable to management port</li>
                            <li>Power on the device</li>
                            <li>Wait for boot completion (LED indicators)</li>
                        </ol>

                        <h3>Step 2: Basic Network Configuration</h3>
                        <h4>Default Settings</h4>
                        <div class="code-block">
                            <code>Default IP: 192.168.1.1
Default Username: admin
Default Password: admin
Web Interface: https://192.168.1.1:4444</code>
                        </div>

                        <h3>Step 3: Web Admin Console Access</h3>
                        <ol>
                            <li>Connect computer to LAN port</li>
                            <li>Set static IP: 192.168.1.100/24</li>
                            <li>Open browser to https://192.168.1.1:4444</li>
                            <li>Accept SSL certificate warning</li>
                            <li>Login with default credentials</li>
                        </ol>

                        <h3>Step 4: Setup Wizard Configuration</h3>
                        <h4>Device Configuration</h4>
                        <div class="code-block">
                            <code>Hostname: sophos-fw-01
Country: [Select your country]
Timezone: [Select appropriate timezone]
Admin Password: [Strong password]
Keyboard Layout: [Select layout]</code>
                        </div>

                        <h4>Network Interface Configuration</h4>
                        <div class="code-block">
                            <code># WAN Interface (Port A)
Interface: WAN
IP Assignment: DHCP or Static
DNS Servers: 8.8.8.8, 1.1.1.1

# LAN Interface (Port B)  
Interface: LAN
IP Address: 192.168.1.1/24
DHCP Range: 192.168.1.100-192.168.1.200</code>
                        </div>

                        <h3>Step 5: Licensing and Registration</h3>
                        <ol>
                            <li>Navigate to Licenses â†’ Licenses</li>
                            <li>Enter license key or start trial</li>
                            <li>Register device with Sophos Central</li>
                            <li>Enable automatic updates</li>
                        </ol>

                        <h3>Step 6: Security Policy Configuration</h3>
                        <h4>Firewall Rules</h4>
                        <div class="tutorial-tips">
                            <h4>Default Security Rules</h4>
                            <ul>
                                <li>LAN to WAN: Allow (with web filtering)</li>
                                <li>WAN to LAN: Block (except established connections)</li>
                                <li>DMZ to LAN: Block</li>
                                <li>LAN to DMZ: Allow specific services</li>
                            </ul>
                        </div>

                        <h3>Step 7: Web Protection Setup</h3>
                        <div class="code-block">
                            <code># Navigate to Web Protection â†’ Policies
Policy Name: Corporate Web Policy
Categories to Block:
- Adult/Mature Content
- Malware Sites  
- Phishing Sites
- Illegal Activities
- Social Networking (optional)

Action: Block
Log: Yes
User Notification: Yes</code>
                        </div>

                        <h3>Step 8: Application Control</h3>
                        <h4>Application Filtering</h4>
                        <div class="code-block">
                            <code># Application Control Rules
Policy: Default Application Control
Applications to Control:
- P2P File Sharing: Block
- Instant Messaging: Monitor/Block
- Social Media: Monitor  
- Cloud Storage: Monitor
- Gaming: Block (business hours)

Bandwidth Control:
- Video Streaming: 50% max bandwidth
- File Downloads: 25% max bandwidth</code>
                        </div>

                        <h3>Step 9: User Authentication</h3>
                        <h4>Local User Database</h4>
                        <div class="code-block">
                            <code># Navigate to Authentication â†’ Users
Username: jdoe
Full Name: John Doe
Email: jdoe@company.com
Group: LAN Users
Authentication Method: Local
Password Policy: Enforce strong passwords</code>
                        </div>

                        <h4>Active Directory Integration</h4>
                        <div class="code-block">
                            <code># AD Server Configuration
Server Type: Microsoft Active Directory
Server IP: 192.168.1.10
Base DN: DC=company,DC=com
Bind DN: CN=Administrator,CN=Users,DC=company,DC=com
Bind Password: [AD Admin Password]
Connection Security: LDAP over SSL</code>
                        </div>

                        <h3>Step 10: VPN Configuration</h3>
                        <h4>SSL VPN Setup</h4>
                        <div class="code-block">
                            <code># VPN â†’ SSL VPN
Portal Name: Company VPN
Authentication: Local/AD Users
Allowed Networks: 192.168.1.0/24
DNS Servers: 192.168.1.1
Lease Time: 8 hours
Concurrent Users: 10</code>
                        </div>

                        <h3>Step 11: Intrusion Prevention</h3>
                        <div class="tutorial-warning">
                            <h4>IPS Configuration</h4>
                            <ul>
                                <li>Enable IPS on all security policies</li>
                                <li>Use "Prevention" mode for critical networks</li>
                                <li>Configure custom signatures for specific threats</li>
                                <li>Set up email notifications for high-severity events</li>
                            </ul>
                        </div>

                        <h3>Step 12: Logging and Monitoring</h3>
                        <h4>Log Settings</h4>
                        <div class="code-block">
                            <code># Administration â†’ Device Access â†’ Syslog
Syslog Server: 192.168.1.50
Port: 514
Protocol: UDP
Log Categories:
- Firewall Events
- Web Filter Events  
- Application Control
- Authentication Events
- System Events</code>
                        </div>

                        <h3>Step 13: Backup Configuration</h3>
                        <div class="code-block">
                            <code># Backup â†’ Import/Export
Export Type: Full Configuration
Include: 
- System Configuration
- Certificates
- User Database
- Policies and Rules

Schedule: Daily at 2:00 AM
Location: Local/FTP/Email</code>
                        </div>

                        <h3>Final Validation Steps</h3>
                        <ol>
                            <li>Test internet connectivity from LAN</li>
                            <li>Verify web filtering is working</li>
                            <li>Test VPN connection</li>
                            <li>Confirm logging is functional</li>
                            <li>Validate firewall rules</li>
                            <li>Document configuration settings</li>
                        </ol>
                    </div>
                `
            },
            "fortigate_policies": {
                "title": "FortiGate firewall policy creation and management",
                "content": `
                    <div class="tutorial-content">
                        <h2>FortiGate Firewall Policy Creation and Management</h2>
                        
                        <h3>Policy Structure Overview</h3>
                        <p>FortiGate policies control traffic flow between network segments based on source, destination, service, and action criteria.</p>

                        <h3>Step 1: Access Policy Configuration</h3>
                        <ol>
                            <li>Login to FortiGate web interface</li>
                            <li>Navigate to Policy & Objects â†’ Firewall Policy</li>
                            <li>Click "Create New" to add policy</li>
                        </ol>

                        <h3>Step 2: Basic Policy Configuration</h3>
                        <h4>Policy Elements</h4>
                        <div class="code-block">
                            <code>Policy ID: Auto-generated
Name: Descriptive policy name
Incoming Interface: Source zone/interface
Outgoing Interface: Destination zone/interface
Source: Source addresses/networks
Destination: Destination addresses/networks
Service: Protocols and ports
Action: ACCEPT, DENY, or IPSEC</code>
                        </div>

                        <h3>Step 3: Common Policy Examples</h3>
                        <h4>Internet Access Policy</h4>
                        <div class="code-block">
                            <code># Basic Internet Access
Name: LAN_to_WAN_Allow
Incoming Interface: internal
Outgoing Interface: wan1
Source: internal_subnet (192.168.1.0/24)
Destination: all
Service: ALL
Action: ACCEPT
NAT: Enable
Log: All Sessions</code>
                        </div>

                        <h4>Server Access Policy</h4>
                        <div class="code-block">
                            <code># DMZ Web Server Access
Name: WAN_to_DMZ_Web
Incoming Interface: wan1
Outgoing Interface: dmz
Source: all
Destination: web_server (192.168.100.10)
Service: HTTP, HTTPS
Action: ACCEPT
VIP: web_server_vip
Log: Security Events</code>
                        </div>

                        <h3>Step 4: Advanced Policy Features</h3>
                        <h4>Security Profiles</h4>
                        <div class="tutorial-tips">
                            <h4>Available Security Profiles</h4>
                            <ul>
                                <li><strong>Antivirus:</strong> Malware detection and blocking</li>
                                <li><strong>Web Filter:</strong> URL and content filtering</li>
                                <li><strong>Application Control:</strong> Application identification and control</li>
                                <li><strong>IPS:</strong> Intrusion prevention and detection</li>
                                <li><strong>SSL Inspection:</strong> SSL/TLS traffic analysis</li>
                                <li><strong>Email Filter:</strong> Email security scanning</li>
                            </ul>
                        </div>

                        <h4>Applying Security Profiles</h4>
                        <div class="code-block">
                            <code># CLI Configuration
config firewall policy
    edit 1
        set name "LAN_to_WAN_Secured"
        set srcintf "internal"
        set dstintf "wan1"
        set srcaddr "internal_subnet"
        set dstaddr "all"
        set action accept
        set service "ALL"
        set utm-status enable
        set av-profile "default"
        set webfilter-profile "default"
        set application-list "default"
        set ips-sensor "default"
        set ssl-ssh-profile "certificate-inspection"
    next
end</code>
                        </div>

                        <h3>Step 5: Policy Ordering and Optimization</h3>
                        <div class="tutorial-warning">
                            <h4>âš ï¸ Policy Order Matters</h4>
                            <ul>
                                <li>Policies are processed top-to-bottom</li>
                                <li>Most specific policies should be at the top</li>
                                <li>Deny policies should come before allow policies</li>
                                <li>Use policy order efficiently to reduce processing time</li>
                            </ul>
                        </div>

                        <h3>Step 6: User-Based Policies</h3>
                        <h4>Identity-Based Access Control</h4>
                        <div class="code-block">
                            <code># User Group Policy
Name: Marketing_Internet_Access
Incoming Interface: internal
Outgoing Interface: wan1
Source: marketing_users (user group)
Destination: all
Service: HTTP, HTTPS, FTP
Action: ACCEPT
Authentication: Required
Schedule: business_hours</code>
                        </div>

                        <h3>Step 7: Time-Based Policies</h3>
                        <h4>Schedule Configuration</h4>
                        <div class="code-block">
                            <code># CLI - Create Schedule
config system schedule recurring
    edit "business_hours"
        set day monday tuesday wednesday thursday friday
        set start 08:00
        set end 18:00
    next
end

# Apply to Policy
config firewall policy
    edit 10
        set schedule "business_hours"
    next
end</code>
                        </div>

                        <h3>Step 8: Bandwidth Management</h3>
                        <h4>Traffic Shaping</h4>
                        <div class="code-block">
                            <code># Traffic Shaper Configuration
config firewall shaping-policy
    edit 1
        set name "Limit_Social_Media"
        set service "Facebook" "Twitter" "YouTube"
        set srcintf "internal"
        set dstintf "wan1"
        set traffic-shaper "social_media_shaper"
        set per-ip-shaper "per_user_limit"
    next
end</code>
                        </div>

                        <h3>Step 9: Policy Monitoring and Troubleshooting</h3>
                        <h4>Real-Time Monitoring</h4>
                        <div class="code-block">
                            <code># CLI Commands for Monitoring
# View policy hit count
get firewall policy

# Monitor active sessions
get system session list

# View policy statistics
diagnose firewall iprope show

# Debug policy lookup
diagnose debug flow trace start
diagnose debug flow filter addr x.x.x.x
diagnose debug enable</code>
                        </div>

                        <h3>Step 10: Policy Templates and Best Practices</h3>
                        <h4>Common Policy Templates</h4>
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse; margin: 1rem 0;">
                                <tr style="background: var(--surface); border: 1px solid var(--border);">
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Policy Type</th>
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Source</th>
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Destination</th>
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Service</th>
                                    <th style="padding: 0.5rem; border: 1px solid var(--border);">Action</th>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Internet Access</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">LAN</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">WAN</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">ALL</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">ACCEPT</td>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Server Access</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">WAN</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">DMZ</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">HTTP/HTTPS</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">ACCEPT</td>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Inter-VLAN</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">VLAN_A</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">VLAN_B</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Specific</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">ACCEPT</td>
                                </tr>
                                <tr style="border: 1px solid var(--border);">
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">Deny All</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">ANY</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">ANY</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">ALL</td>
                                    <td style="padding: 0.5rem; border: 1px solid var(--border);">DENY</td>
                                </tr>
                            </table>
                        </div>

                        <h3>Step 11: Policy Backup and Documentation</h3>
                        <div class="code-block">
                            <code># CLI - Backup Policies
execute backup config management-station "policy_backup_$(date +%Y%m%d).conf"

# Export specific policy set
show firewall policy > policy_export.txt

# Generate policy report
execute report generate</code>
                        </div>

                        <div class="tutorial-tips">
                            <h4>ðŸ’¡ Best Practices</h4>
                            <ul>
                                <li>Use descriptive policy names</li>
                                <li>Document policy purpose and business justification</li>
                                <li>Regular review and cleanup of unused policies</li>
                                <li>Test policies in non-production environment first</li>
                                <li>Monitor policy hit counts to identify unused rules</li>
                                <li>Use address and service objects for consistency</li>
                            </ul>
                        </div>
                    </div>
                `
            }
        };

        window.BACKUP_TUTORIALS = {
            "veeam_setup": {
                "title": "Veeam Backup & Replication setup and configuration",
                "content": `
                    <div class="tutorial-content">
                        <h2>Veeam Backup & Replication Setup and Configuration</h2>
                        
                        <h3>System Requirements</h3>
                        <ul>
                            <li>Windows Server 2016/2019/2022</li>
                            <li>Minimum 4GB RAM (8GB+ recommended)</li>
                            <li>SQL Server (Express, Standard, or Enterprise)</li>
                            <li>Sufficient storage for backup repository</li>
                            <li>.NET Framework 4.7.2 or later</li>
                        </ul>

                        <h3>Step 1: Download and Install Veeam</h3>
                        <ol>
                            <li>Download Veeam Backup & Replication from official website</li>
                            <li>Run installer as Administrator</li>
                            <li>Accept license agreement</li>
                            <li>Choose installation location</li>
                            <li>Select components to install</li>
                        </ol>

                        <h4>Installation Components</h4>
                        <div class="code-block">
                            <code>Core Components:
âœ“ Veeam Backup & Replication Console
âœ“ Veeam Backup & Replication Server
âœ“ Veeam Backup Catalog
âœ“ Veeam Guest Interaction Proxy

Optional Components:
â–¡ Veeam Backup Enterprise Manager
â–¡ Veeam ONE Monitor
â–¡ Veeam Agent for Windows
â–¡ Veeam Explorer for Exchange</code>
                        </div>

                        <h3>Step 2: Initial Configuration Wizard</h3>
                        <h4>License Configuration</h4>
                        <ol>
                            <li>Launch Veeam Backup & Replication Console</li>
                            <li>Navigate to License â†’ Install License</li>
                            <li>Browse to license file (.lic)</li>
                            <li>Verify license details and socket count</li>
                        </ol>

                        <h3>Step 3: Add Backup Infrastructure</h3>
                        <h4>VMware vSphere Integration</h4>
                        <div class="code-block">
                            <code># Add vCenter Server
Navigate to: Backup Infrastructure â†’ Managed Servers
Add Server â†’ VMware vSphere
Server: vcenter.company.com
Port: 443
Credentials: vCenter administrator account
Description: Production vCenter</code>
                        </div>

                        <h4>Hyper-V Integration</h4>
                        <div class="code-block">
                            <code># Add Hyper-V Host
Navigate to: Backup Infrastructure â†’ Managed Servers  
Add Server â†’ Microsoft Hyper-V
Server: hyperv-host.company.com
Authentication: Windows Authentication
Account: Domain administrator
Description: Hyper-V Cluster Node 1</code>
                        </div>

                        <h3>Step 4: Configure Backup Repository</h3>
                        <h4>Local Repository Setup</h4>
                        <div class="code-block">
                            <code># Repository Configuration
Name: Primary-Backup-Repo
Description: Primary backup storage
Type: Direct attached storage
Server: Local Veeam server
Path: D:\VeeamBackups\
Space limit: Unlimited
Advanced Settings:
- Per-VM backup files: Enabled
- Decompress backup data blocks: Disabled
- Align backup file data blocks: Enabled</code>
                        </div>

                        <h4>Network Storage Repository</h4>
                        <div class="code-block">
                            <code># SMB/CIFS Repository
Name: Network-Backup-Repo
Type: Network attached storage
Share path: \\nas-server\backups
Credentials: Service account with full control
Max concurrent tasks: 4
Use fast cloning: Enabled (if supported)</code>
                        </div>

                        <h3>Step 5: Configure Backup Proxy</h3>
                        <div class="tutorial-tips">
                            <h4>Proxy Sizing Guidelines</h4>
                            <ul>
                                <li><strong>Small environment (1-5 VMs):</strong> 2 CPU cores, 4GB RAM</li>
                                <li><strong>Medium environment (6-20 VMs):</strong> 4 CPU cores, 8GB RAM</li>
                                <li><strong>Large environment (21+ VMs):</strong> 8+ CPU cores, 16GB+ RAM</li>
                                <li><strong>Concurrent tasks:</strong> 1 task per CPU core (max 8)</li>
                            </ul>
                        </div>

                        <h4>Virtual Appliance (HOTADD) Transport</h4>
                        <div class="code-block">
                            <code># VMware Backup Proxy Configuration
Name: VMware-Proxy-01
Description: Primary VMware backup proxy
Host: esxi-host-01.company.com
Transport modes:
âœ“ Virtual appliance (HOTADD)
âœ“ Network (NBD)
â–¡ Network (NBDSSL)
Max concurrent tasks: 4</code>
                        </div>

                        <h3>Step 6: Create Backup Jobs</h3>
                        <h4>VM Backup Job Configuration</h4>
                        <div class="code-block">
                            <code># Backup Job Settings
Job name: Production-VMs-Daily
Description: Daily backup of production virtual machines

Virtual Machines:
- Add by container: Production folder
- Exclusions: Template VMs, Test VMs

Backup Destination:
Repository: Primary-Backup-Repo
Backup proxy: Automatic selection
Retention: 14 restore points

Advanced Settings:
- Application-aware processing: Enabled
- Encryption: AES 256 with password
- Compression: Optimal
- Storage optimization: Local target</code>
                        </div>

                        <h3>Step 7: Configure Application-Aware Processing</h3>
                        <h4>SQL Server Backup</h4>
                        <div class="code-block">
                            <code># SQL Server Settings
Application-aware processing: Enabled
Guest OS credentials: SQL service account
Transaction log handling: Truncate logs
SQL authentication: Windows authentication

Pre/Post Scripts:
Pre-freeze script: Stop non-critical services
Post-thaw script: Start services
Timeout: 900 seconds</code>
                        </div>

                        <h3>Step 8: Set Up Backup Copy Jobs</h3>
                        <h4>Offsite Backup Copy</h4>
                        <div class="code-block">
                            <code># Backup Copy Job
Name: Offsite-Copy-Job
Description: Copy backups to offsite location
Source: Production-VMs-Daily
Target repository: Offsite-Backup-Repo
Copy schedule: Daily at 10:00 PM
Retention: 30 restore points
Encryption: Enabled
WAN Acceleration: Enabled (if available)</code>
                        </div>

                        <h3>Step 9: Configure Replication Jobs</h3>
                        <h4>VM Replication Setup</h4>
                        <div class="code-block">
                            <code># Replication Job
Name: Critical-VMs-Replication
Source VMs: Domain controllers, database servers
Target: DR-Site-vCenter
Destination host: esxi-dr-01.company.com
Schedule: Every 4 hours
Retention: 7 restore points
Network mapping: Production â†’ DR networks
Re-IP rules: Automatic subnet translation</code>
                        </div>

                        <h3>Step 10: Configure Email Notifications</h3>
                        <div class="code-block">
                            <code># SMTP Configuration
General Options â†’ Global Notification Settings
SMTP server: mail.company.com
Port: 587
Authentication: Required
Username: veeam-notifications@company.com
Password: [Service account password]
Security: STARTTLS

Notification Settings:
- Backup job notifications: On failure and warnings
- Repository space warnings: 10% free space
- License expiration: 30 days before expiry</code>
                        </div>

                        <h3>Step 11: Monitor and Maintain</h3>
                        <h4>Regular Maintenance Tasks</h4>
                        <div class="tutorial-warning">
                            <h4>âš ï¸ Maintenance Checklist</h4>
                            <ul>
                                <li>Monitor backup job success rates</li>
                                <li>Check repository space utilization</li>
                                <li>Test restore procedures monthly</li>
                                <li>Update Veeam software quarterly</li>
                                <li>Review and optimize backup windows</li>
                                <li>Verify backup chain integrity</li>
                                <li>Test replication failover annually</li>
                            </ul>
                        </div>

                        <h3>Step 12: Backup Verification</h3>
                        <h4>SureBackup Configuration</h4>
                        <div class="code-block">
                            <code># SureBackup Job
Name: Verify-Critical-VMs
Virtual lab: Isolated-Lab-01
Linked jobs: Production-VMs-Daily
Application groups: Domain-Controllers, SQL-Servers
Verification tests:
- Heartbeat test: Ping VM
- Application test: TCP port check
- Custom script: Application-specific validation
Schedule: Daily at 2:00 AM</code>
                        </div>

                        <h3>Performance Optimization</h3>
                        <div class="tutorial-tips">
                            <h4>ðŸ’¡ Performance Tips</h4>
                            <ul>
                                <li>Use multiple proxy servers for large environments</li>
                                <li>Enable parallel processing for backup jobs</li>
                                <li>Configure WAN acceleration for remote sites</li>
                                <li>Use incremental backups with periodic full backups</li>
                                <li>Schedule jobs during off-peak hours</li>
                                <li>Use ReFS for backup repositories when possible</li>
                            </ul>
                        </div>
                    </div>
                `
            },
            "backup_radar": {
                "title": "Backup monitoring with Backup Radar platform",
                "content": `
                    <div class="tutorial-content">
                        <h2>Backup Monitoring with Backup Radar Platform</h2>
                        
                        <h3>Overview</h3>
                        <p>Backup Radar provides centralized monitoring and reporting for multiple backup solutions across different vendors and environments.</p>

                        <h3>Supported Backup Solutions</h3>
                        <ul>
                            <li>Veeam Backup & Replication</li>
                            <li>CommVault</li>
                            <li>Veritas NetBackup</li>
                            <li>IBM Spectrum Protect</li>
                            <li>Windows Server Backup</li>
                            <li>Azure Backup</li>
                            <li>AWS Backup</li>
                        </ul>

                        <h3>Step 1: Account Setup and Registration</h3>
                        <ol>
                            <li>Visit <a href="https://backupradar.com" target="_blank">Backup Radar website</a></li>
                            <li>Sign up for account or request demo</li>
                            <li>Verify email address</li>
                            <li>Complete organization profile</li>
                            <li>Configure initial settings</li>
                        </ol>

                        <h3>Step 2: Agent Installation and Configuration</h3>
                        <h4>Windows Agent Deployment</h4>
                        <div class="code-block">
                            <code># Download and install agent
$AgentUrl = "https://downloads.backupradar.com/agent/BackupRadarAgent.msi"
$AgentPath = "C:\temp\BackupRadarAgent.msi"

# Download agent
Invoke-WebRequest -Uri $AgentUrl -OutFile $AgentPath

# Install agent silently
Start-Process msiexec.exe -ArgumentList "/i $AgentPath /quiet /norestart" -Wait

# Configure agent
$ConfigPath = "C:\Program Files\Backup Radar\Agent\config.xml"
# Edit configuration with organization details</code>
                        </div>

                        <h4>Linux Agent Installation</h4>
                        <div class="code-block">
                            <code># Ubuntu/Debian installation
wget https://downloads.backupradar.com/agent/backupradar-agent.deb
sudo dpkg -i backupradar-agent.deb

# RHEL/CentOS installation  
wget https://downloads.backupradar.com/agent/backupradar-agent.rpm
sudo rpm -ivh backupradar-agent.rpm

# Configure agent
sudo nano /etc/backupradar/agent.conf
sudo systemctl enable backupradar-agent
sudo systemctl start backupradar-agent</code>
                        </div>

                        <h3>Step 3: Veeam Integration Setup</h3>
                        <h4>Configure Veeam Monitoring</h4>
                        <div class="code-block">
                            <code># Veeam Configuration
Server Type: Veeam Backup & Replication
Server Address: veeam-server.company.com
Port: 9392
Authentication: Windows Authentication
Username: DOMAIN\veeam-service
Password: [Service account password]

Monitoring Settings:
- Check interval: 15 minutes
- Collect job history: 90 days
- Monitor repositories: All configured
- Alert thresholds:
  * Failed jobs: Immediate
  * Warning jobs: After 2 consecutive
  * Repository space: <15% free</code>
                        </div>

                        <h3>Step 4: Cloud Backup Integration</h3>
                        <h4>Azure Backup Configuration</h4>
                        <div class="code-block">
                            <code># Azure Backup Setup
Connection Type: Azure Resource Manager
Subscription ID: your-subscription-id
Tenant ID: your-tenant-id
Client ID: backup-radar-app-id
Client Secret: [Application secret]

Resource Groups to Monitor:
- Production-Backups
- DR-Backups
- Archive-Storage

Recovery Services Vaults:
- Primary-Backup-Vault
- Secondary-Backup-Vault</code>
                        </div>

                        <h3>Step 5: Dashboard Configuration</h3>
                        <h4>Custom Dashboard Creation</h4>
                        <div class="tutorial-tips">
                            <h4>Essential Dashboard Widgets</h4>
                            <ul>
                                <li><strong>Backup Success Rate:</strong> Overall success percentage</li>
                                <li><strong>Failed Jobs:</strong> Recent failure alerts</li>
                                <li><strong>Storage Utilization:</strong> Repository capacity usage</li>
                                <li><strong>Backup Window Analysis:</strong> Job duration trends</li>
                                <li><strong>Recovery Point Age:</strong> Last successful backup per system</li>
                                <li><strong>Compliance Status:</strong> RTO/RPO compliance tracking</li>
                            </ul>
                        </div>

                        <h3>Step 6: Alert Configuration</h3>
                        <h4>Email Alert Setup</h4>
                        <div class="code-block">
                            <code># Email Notification Rules
Rule Name: Critical Backup Failures
Trigger Condition: Backup job failed
Severity: Critical
Recipients: 
- backup-admin@company.com
- it-manager@company.com
Escalation: After 1 hour if not acknowledged

Rule Name: Storage Space Warning
Trigger Condition: Repository <20% free space
Severity: Warning
Recipients: backup-admin@company.com
Frequency: Daily digest</code>
                        </div>

                        <h4>SNMP Integration</h4>
                        <div class="code-block">
                            <code># SNMP Configuration
SNMP Version: v2c
Community String: backup_monitoring
Destination: monitoring-server.company.com:162
OIDs to Monitor:
- .1.3.6.1.4.1.31337.1.1 (Backup Success)
- .1.3.6.1.4.1.31337.1.2 (Storage Usage)
- .1.3.6.1.4.1.31337.1.3 (Job Duration)</code>
                        </div>

                        <h3>Step 7: Reporting Configuration</h3>
                        <h4>Automated Report Generation</h4>
                        <div class="code-block">
                            <code># Monthly Executive Report
Report Name: Executive Backup Summary
Schedule: First Monday of each month
Recipients: 
- ceo@company.com
- cto@company.com
- it-director@company.com

Content Sections:
- Overall backup success rate
- Storage growth trends
- Failed backup summary
- Compliance status
- Recommendations for improvement

Format: PDF with charts and graphs
Delivery: Email attachment</code>
                        </div>

                        <h3>Step 8: API Integration</h3>
                        <h4>REST API Usage</h4>
                        <div class="code-block">
                            <code># PowerShell API Example
$ApiKey = "your-api-key"
$BaseUrl = "https://api.backupradar.com/v1"
$Headers = @{
    "Authorization" = "Bearer $ApiKey"
    "Content-Type" = "application/json"
}

# Get backup job status
$JobStatus = Invoke-RestMethod -Uri "$BaseUrl/jobs/status" -Method GET -Headers $Headers

# Submit custom backup event
$Event = @{
    "source" = "custom-script"
    "job_name" = "Database-Backup"
    "status" = "success"
    "start_time" = "2024-01-15T02:00:00Z"
    "end_time" = "2024-01-15T02:45:00Z"
    "data_size_gb" = 150
} | ConvertTo-Json

Invoke-RestMethod -Uri "$BaseUrl/events" -Method POST -Body $Event -Headers $Headers</code>
                        </div>

                        <h3>Step 9: Multi-Tenant Management</h3>
                        <h4>MSP Configuration</h4>
                        <div class="code-block">
                            <code># Customer Tenant Setup
Tenant Name: Acme Corporation
Contact: admin@acme.com
Backup Infrastructure:
- Primary Site: New York DC
- DR Site: Chicago DC
- Cloud: Azure East US

Monitoring Scope:
- Include: Production systems only
- Exclude: Development/test environments
- Retention: 12 months historical data
- SLA Targets: 99.9% success rate</code>
                        </div>

                        <h3>Step 10: Mobile App Configuration</h3>
                        <div class="tutorial-tips">
                            <h4>Mobile Alert Features</h4>
                            <ul>
                                <li>Push notifications for critical failures</li>
                                <li>Dashboard view with key metrics</li>
                                <li>Ability to acknowledge alerts</li>
                                <li>Quick access to recent job status</li>
                                <li>Storage utilization overview</li>
                            </ul>
                        </div>

                        <h3>Step 11: Advanced Analytics</h3>
                        <h4>Predictive Analysis Setup</h4>
                        <div class="code-block">
                            <code># Analytics Configuration
Predictive Models:
- Storage growth prediction (6-month forecast)
- Backup window optimization
- Failure pattern analysis
- Performance trend analysis

Machine Learning Features:
- Anomaly detection for backup durations
- Intelligent alerting (reduce false positives)
- Capacity planning recommendations
- Risk assessment scoring</code>
                        </div>

                        <h3>Step 12: Troubleshooting and Optimization</h3>
                        <div class="tutorial-warning">
                            <h4>âš ï¸ Common Issues and Solutions</h4>
                            <ul>
                                <li><strong>Agent connectivity:</strong> Check firewall rules (port 443)</li>
                                <li><strong>Authentication failures:</strong> Verify service account permissions</li>
                                <li><strong>Missing data:</strong> Check agent service status</li>
                                <li><strong>Performance issues:</strong> Optimize collection intervals</li>
                                <li><strong>False alerts:</strong> Tune alert thresholds</li>
                            </ul>
                        </div>

                        <h3>Best Practices</h3>
                        <div class="tutorial-tips">
                            <h4>ðŸ’¡ Optimization Tips</h4>
                            <ul>
                                <li>Start with default thresholds and adjust based on environment</li>
                                <li>Use role-based access for different team members</li>
                                <li>Implement graduated alerting (warning â†’ critical)</li>
                                <li>Regular review of dashboard metrics and trends</li>
                                <li>Automate remediation where possible</li>
                                <li>Maintain current agent versions for latest features</li>
                            </ul>
                        </div>
                    </div>
                `
            }
        };

        window.LINUX_TUTORIALS = {
            "linux_basics": {
                "title": "Linux basics and system administration",
                "content": `
                    <div class="tutorial-content">
                        <h2>Linux Basics and System Administration</h2>
                        
                        <h3>Essential Linux Commands</h3>
                        <h4>File and Directory Operations</h4>
                        <div class="code-block">
                            <code># Navigation and listing
ls -la          # List all files with details
cd /path/to/dir # Change directory
pwd             # Print working directory
mkdir dirname   # Create directory
rmdir dirname   # Remove empty directory
rm -rf dirname  # Remove directory and contents

# File operations
cp source dest  # Copy file
mv source dest  # Move/rename file
rm filename     # Delete file
find /path -name "*.txt"  # Find files by name
locate filename # Quick file search
which command   # Find command location</code>
                        </div>

                        <h4>File Permissions and Ownership</h4>
                        <div class="code-block">
                            <code># Permission management
chmod 755 file    # Set permissions (rwxr-xr-x)
chmod +x script   # Add execute permission
chown user:group file  # Change ownership
chgrp group file  # Change group ownership

# Permission values:
# r (read) = 4, w (write) = 2, x (execute) = 1
# 755 = rwxr-xr-x (owner: read,write,execute; group/others: read,execute)
# 644 = rw-r--r-- (owner: read,write; group/others: read only)</code>
                        </div>

                        <h3>System Information and Monitoring</h3>
                        <h4>System Status Commands</h4>
                        <div class="code-block">
                            <code># System information
uname -a        # System information
hostname        # System hostname
uptime          # System uptime and load
whoami          # Current user
id              # User and group IDs
w               # Who is logged in
last            # Last login history

# Hardware information
lscpu           # CPU information
lsmem           # Memory information
lsblk           # Block devices
lsusb           # USB devices
lspci           # PCI devices
dmidecode       # Hardware details</code>
                        </div>

                        <h4>Process Management</h4>
                        <div class="code-block">
                            <code># Process monitoring
ps aux          # List all processes
top             # Real-time process monitor
htop            # Enhanced process monitor
pgrep nginx     # Find process by name
pidof nginx     # Get PID of process

# Process control
kill PID        # Terminate process
killall nginx   # Kill all nginx processes
nohup command & # Run command in background
jobs            # List background jobs
fg %1           # Bring job to foreground
bg %1           # Send job to background</code>
                        </div>

                        <h3>Package Management</h3>
                        <h4>Debian/Ubuntu (APT)</h4>
                        <div class="code-block">
                            <code># Package operations
apt update                    # Update package list
apt upgrade                   # Upgrade packages
apt install package-name     # Install package
apt remove package-name      # Remove package
apt purge package-name       # Remove package and config
apt search keyword           # Search packages
apt show package-name        # Show package info
apt list --installed        # List installed packages
apt autoremove              # Remove unnecessary packages</code>
                        </div>

                        <h4>RHEL/CentOS (YUM/DNF)</h4>
                        <div class="code-block">
                            <code># YUM/DNF commands
yum update              # Update all packages
yum install package     # Install package
yum remove package      # Remove package
yum search keyword      # Search packages
yum info package        # Package information
yum list installed     # List installed packages

# DNF (newer systems)
dnf update
dnf install package
dnf remove package</code>
                        </div>

                        <h3>Network Configuration and Troubleshooting</h3>
                        <h4>Network Commands</h4>
                        <div class="code-block">
                            <code># Network information
ip addr show            # Show IP addresses
ip route show           # Show routing table
ifconfig               # Network interface configuration (legacy)
netstat -tuln          # Show listening ports
ss -tuln               # Modern netstat replacement
ping google.com        # Test connectivity
traceroute google.com  # Trace network path
nslookup domain.com    # DNS lookup
dig domain.com         # Advanced DNS lookup

# Network configuration
ip addr add 192.168.1.100/24 dev eth0  # Add IP address
ip route add default via 192.168.1.1   # Add default route</code>
                        </div>

                        <h3>File System Management</h3>
                        <h4>Disk and File System Operations</h4>
                        <div class="code-block">
                            <code># Disk usage
df -h               # Disk space usage
du -sh /path        # Directory size
lsof               # List open files
mount              # Show mounted filesystems
umount /mount/point # Unmount filesystem

# File system creation
mkfs.ext4 /dev/sdb1    # Create ext4 filesystem
mkfs.xfs /dev/sdb1     # Create XFS filesystem
fsck /dev/sdb1         # Check filesystem

# Mount operations
mount /dev/sdb1 /mnt   # Mount filesystem
mount -t nfs server:/path /mnt  # Mount NFS
/etc/fstab             # Permanent mount configuration</code>
                        </div>

                        <h3>User and Group Management</h3>
                        <h4>User Administration</h4>
                        <div class="code-block">
                            <code># User management
useradd username        # Add user
useradd -m -s /bin/bash username  # Add user with home directory
usermod -aG sudo username        # Add user to sudo group
userdel username               # Delete user
userdel -r username           # Delete user and home directory
passwd username               # Change user password

# Group management
groupadd groupname     # Create group
groupdel groupname     # Delete group
usermod -aG groupname username  # Add user to group
groups username        # Show user groups
getent group groupname # Show group members</code>
                        </div>

                        <h3>System Services and Systemd</h3>
                        <h4>Service Management</h4>
                        <div class="code-block">
                            <code># Systemctl commands
systemctl status service-name    # Check service status
systemctl start service-name     # Start service
systemctl stop service-name      # Stop service
systemctl restart service-name   # Restart service
systemctl reload service-name    # Reload service config
systemctl enable service-name    # Enable service at boot
systemctl disable service-name   # Disable service at boot
systemctl list-units --type=service  # List all services

# Journal logs
journalctl -u service-name       # View service logs
journalctl -f                    # Follow system logs
journalctl --since "1 hour ago"  # Logs from last hour</code>
                        </div>

                        <h3>Security and Firewall</h3>
                        <h4>UFW Firewall (Ubuntu)</h4>
                        <div class="code-block">
                            <code># UFW commands
ufw status              # Check firewall status
ufw enable             # Enable firewall
ufw disable            # Disable firewall
ufw allow 22           # Allow SSH
ufw allow 80/tcp       # Allow HTTP
ufw allow from 192.168.1.0/24  # Allow from subnet
ufw deny 23            # Deny telnet
ufw delete allow 80    # Remove rule
ufw reset              # Reset all rules</code>
                        </div>

                        <h4>iptables Firewall</h4>
                        <div class="code-block">
                            <code># Basic iptables rules
iptables -L            # List current rules
iptables -F            # Flush all rules

# Allow SSH
iptables -A INPUT -p tcp --dport 22 -j ACCEPT

# Allow HTTP and HTTPS
iptables -A INPUT -p tcp --dport 80 -j ACCEPT
iptables -A INPUT -p tcp --dport 443 -j ACCEPT

# Drop all other input
iptables -P INPUT DROP

# Save rules (varies by distribution)
iptables-save > /etc/iptables/rules.v4</code>
                        </div>

                        <h3>Log Management</h3>
                        <h4>System Logs</h4>
                        <div class="tutorial-tips">
                            <h4>Important Log Locations</h4>
                            <ul>
                                <li><code>/var/log/syslog</code> - System messages</li>
                                <li><code>/var/log/auth.log</code> - Authentication logs</li>
                                <li><code>/var/log/kern.log</code> - Kernel messages</li>
                                <li><code>/var/log/apache2/</code> - Apache web server logs</li>
                                <li><code>/var/log/nginx/</code> - Nginx web server logs</li>
                                <li><code>/var/log/mysql/</code> - MySQL database logs</li>
                            </ul>
                        </div>

                        <h4>Log Analysis Commands</h4>
                        <div class="code-block">
                            <code># Log viewing and analysis
tail -f /var/log/syslog          # Follow log in real-time
head -20 /var/log/auth.log       # Show first 20 lines
grep "error" /var/log/syslog     # Search for errors
grep -i "failed" /var/log/auth.log  # Case-insensitive search
zcat /var/log/syslog.1.gz | grep "keyword"  # Search compressed logs

# Advanced log analysis
awk '/ERROR/ {print $1, $2, $3, $NF}' /var/log/syslog  # Extract specific fields
sed -n '100,200p' /var/log/syslog  # Print lines 100-200
sort /var/log/auth.log | uniq -c   # Count unique entries</code>
                        </div>

                        <h3>Performance Monitoring</h3>
                        <h4>System Performance Commands</h4>
                        <div class="code-block">
                            <code># CPU and memory monitoring
top                     # Process monitor
htop                    # Enhanced process monitor
vmstat 2               # Virtual memory statistics
iostat 2               # I/O statistics
sar 2                  # System activity reporter
free -h                # Memory usage
cat /proc/loadavg      # Load average

# Disk I/O monitoring
iotop                  # I/O usage by process
dstat                  # System resource statistics
nmon                   # Performance monitor</code>
                        </div>

                        <div class="tutorial-warning">
                            <h4>âš ï¸ Security Best Practices</h4>
                            <ul>
                                <li>Regularly update the system with security patches</li>
                                <li>Use strong passwords and consider SSH key authentication</li>
                                <li>Disable root login and use sudo for administrative tasks</li>
                                <li>Configure firewall to allow only necessary services</li>
                                <li>Monitor system logs for suspicious activity</li>
                                <li>Keep services minimal - only run what's needed</li>
                                <li>Regular backups of important data and configurations</li>
                            </ul>
                        </div>

                        <h3>System Maintenance Tasks</h3>
                        <div class="tutorial-tips">
                            <h4>ðŸ’¡ Regular Maintenance</h4>
                            <ul>
                                <li>Update packages weekly: <code>apt update && apt upgrade</code></li>
                                <li>Clean package cache: <code>apt autoclean</code></li>
                                <li>Check disk space: <code>df -h</code></li>
                                <li>Monitor system logs for errors</li>
                                <li>Review user accounts and remove unused ones</li>
                                <li>Check for failed services: <code>systemctl --failed</code></li>
                                <li>Verify backup integrity</li>
                                <li>Update system documentation</li>
                            </ul>
                        </div>
                    </div>
                `
            }
        };

        window.TOOLS_TUTORIALS = {
            "atera_splashtop": {
                "title": "Atera: remote access via Splashtop integration",
                "content": `
                    <div class="tutorial-content">
                        <h2>Atera: Remote Access via Splashtop Integration</h2>
                        
                        <h3>Overview</h3>
                        <p>Atera's integration with Splashtop provides seamless remote access capabilities directly from the Atera console, eliminating the need for separate remote access tools.</p>

                        <h3>Prerequisites</h3>
                        <ul>
                            <li>Active Atera subscription</li>
                            <li>Atera agent installed on target devices</li>
                            <li>Appropriate user permissions in Atera</li>
                            <li>Stable internet connection</li>
                        </ul>

                        <h3>Step 1: Enable Splashtop Integration</h3>
                        <ol>
                            <li>Login to Atera admin portal</li>
                            <li>Navigate to Admin â†’ Integrations</li>
                            <li>Locate "Splashtop" integration</li>
                            <li>Click "Enable" or "Configure"</li>
                            <li>Accept integration terms</li>
                        </ol>

                        <h3>Step 2: Configure Remote Access Settings</h3>
                        <h4>Global Settings Configuration</h4>
                        <div class="code-block">
                            <code>Remote Access Settings:
âœ“ Enable remote access for all customers
âœ“ Allow unattended access
âœ“ Enable file transfer
âœ“ Allow session recording
â–¡ Require approval for connections
âœ“ Enable multi-monitor support
âœ“ Allow clipboard synchronization

Security Options:
- Connection encryption: AES 256-bit
- Authentication: Atera credentials
- Session timeout: 8 hours
- Idle timeout: 30 minutes</code>
                        </div>

                        <h3>Step 3: Customer-Specific Configuration</h3>
                        <h4>Per-Customer Settings</h4>
                        <div class="code-block">
                            <code># Customer Access Configuration
Customer: Acme Corporation
Remote Access Policy: Standard Business
Allowed Connection Hours: 24/7
Technician Access Level: Full Control
File Transfer: Enabled
Screen Recording: Enabled for compliance
Audio Support: Enabled
Multi-monitor: Enabled

Notification Settings:
- Notify customer on connection: Yes
- Show connection banner: Yes
- Log all sessions: Yes</code>
                        </div>

                        <h3>Step 4: Agent Configuration</h3>
                        <h4>Deploy Remote Access via Agent</h4>
                        <div class="code-block">
                            <code># PowerShell - Bulk agent configuration
$Computers = Get-Content "C:\computers.txt"

foreach ($Computer in $Computers) {
    # Configure remote access settings via Atera API
    $ApiKey = "your-atera-api-key"
    $Headers = @{
        "X-API-KEY" = $ApiKey
        "Content-Type" = "application/json"
    }
    
    $Body = @{
        "DeviceName" = $Computer
        "RemoteAccessEnabled" = $true
        "UnattendedAccess" = $true
        "FileTransfer" = $true
    } | ConvertTo-Json
    
    Invoke-RestMethod -Uri "https://api.atera.com/v3/devices/remote-access" -Method POST -Headers $Headers -Body $Body
}</code>
                        </div>

                        <h3>Step 5: Initiating Remote Sessions</h3>
                        <h4>From Device List</h4>
                        <ol>
                            <li>Navigate to Devices â†’ All Devices</li>
                            <li>Select target device</li>
                            <li>Click "Remote Access" button</li>
                            <li>Choose connection type:</li>
                            <ul>
                                <li>View Only - Read-only access</li>
                                <li>Full Control - Complete remote control</li>
                                <li>File Transfer - File management only</li>
                            </ul>
                            <li>Session launches in new window/tab</li>
                        </ol>

                        <h4>From Ticket Interface</h4>
                        <div class="code-block">
                            <code># Remote Access from Ticket
1. Open support ticket
2. Identify affected device
3. Click "Remote Access" icon next to device name
4. Select appropriate access level
5. Session starts with ticket context
6. Document actions in ticket notes</code>
                        </div>

                        <h3>Step 6: Session Management</h3>
                        <h4>Active Session Controls</h4>
                        <div class="tutorial-tips">
                            <h4>Session Control Features</h4>
                            <ul>
                                <li><strong>Chat:</strong> Communicate with remote user</li>
                                <li><strong>File Transfer:</strong> Upload/download files</li>
                                <li><strong>Screen Recording:</strong> Record session for review</li>
                                <li><strong>Multi-Monitor:</strong> Switch between displays</li>
                                <li><strong>Remote Reboot:</strong> Restart device remotely</li>
                                <li><strong>Ctrl+Alt+Del:</strong> Send secure attention sequence</li>
                            </ul>
                        </div>

                        <h3>Step 7: File Transfer Operations</h3>
                        <h4>Secure File Transfer</h4>
                        <div class="code-block">
                            <code># File Transfer Protocol
Source: Technician workstation
Destination: Customer device
Encryption: AES 256-bit
Authentication: Atera session token

Common Transfer Scenarios:
1. Upload drivers/software to customer device
2. Download log files for analysis
3. Transfer configuration files
4. Backup critical data before changes

Transfer Limits:
- Maximum file size: 2GB per file
- Concurrent transfers: 5 files
- Session bandwidth: Adaptive (1-100 Mbps)
- Supported protocols: HTTPS, encrypted TCP</code>
                        </div>

                        <h3>Step 8: Mobile Remote Access</h3>
                        <h4>Atera Mobile App Integration</h4>
                        <div class="code-block">
                            <code># Mobile App Configuration
Platform: iOS/Android
App: Atera Splashtop Business
Features Available:
- Device list access
- Remote view/control
- File transfer (limited)
- Session chat
- Basic troubleshooting

Mobile Limitations:
- No administrative privileges
- Limited keyboard support
- Reduced screen resolution
- No multi-monitor support
- File transfer restrictions</code>
                        </div>

                        <h3>Step 9: Session Recording and Compliance</h3>
                        <h4>Compliance Configuration</h4>
                        <div class="code-block">
                            <code># Compliance Settings
Recording Policy: All customer sessions
Storage Location: Atera cloud (encrypted)
Retention Period: 90 days
Access Control: Admin and manager roles only
Audit Log: All access tracked

GDPR Compliance:
- Data processing agreement: Executed
- Customer consent: Required
- Data location: EU servers available
- Right to deletion: Supported
- Data portability: Export available</code>
                        </div>

                        <h3>Step 10: Troubleshooting Common Issues</h3>
                        <h4>Connection Problems</h4>
                        <div class="tutorial-warning">
                            <h4>âš ï¸ Troubleshooting Steps</h4>
                            <ul>
                                <li><strong>Agent Offline:</strong> Check device connectivity and agent service</li>
                                <li><strong>Connection Refused:</strong> Verify firewall rules (ports 443, 6112)</li>
                                <li><strong>Slow Performance:</strong> Check bandwidth and reduce color depth</li>
                                <li><strong>Authentication Failed:</strong> Verify Atera account permissions</li>
                                <li><strong>Black Screen:</strong> Check UAC settings and elevation</li>
                            </ul>
                        </div>

                        <h4>Network Requirements</h4>
                        <div class="code-block">
                            <code># Required Network Configuration
Outbound Ports:
- 443 (HTTPS) - Primary connection
- 6112 (TCP) - Splashtop relay
- 80 (HTTP) - Fallback connection

Firewall Whitelist:
- *.splashtop.com
- *.atera.com
- relay.splashtop.com
- st-relay.splashtop.com

Bandwidth Requirements:
- Minimum: 1 Mbps
- Recommended: 5+ Mbps
- Optimal: 10+ Mbps for HD sessions</code>
                        </div>

                        <h3>Step 11: Security Best Practices</h3>
                        <div class="tutorial-tips">
                            <h4>ðŸ’¡ Security Recommendations</h4>
                            <ul>
                                <li>Enable two-factor authentication for Atera accounts</li>
                                <li>Use role-based access control to limit technician permissions</li>
                                <li>Regularly review session logs and recordings</li>
                                <li>Implement session timeout policies</li>
                                <li>Train technicians on secure remote access practices</li>
                                <li>Monitor for unauthorized access attempts</li>
                                <li>Keep Atera agents updated to latest version</li>
                            </ul>
                        </div>

                        <h3>Step 12: Reporting and Analytics</h3>
                        <h4>Remote Access Reports</h4>
                        <div class="code-block">
                            <code># Available Reports
Report Type: Remote Access Usage
Frequency: Weekly/Monthly
Metrics:
- Total sessions per technician
- Average session duration
- Devices accessed most frequently
- Peak usage hours
- Failed connection attempts
- Bandwidth utilization

Custom Dashboards:
- Customer access patterns
- Technician productivity metrics
- Security incident tracking
- Compliance audit trails
- Cost analysis (session-based billing)</code>
                        </div>

                        <h3>Integration with Other Atera Features</h3>
                        <div class="tutorial-tips">
                            <h4>Enhanced Workflows</h4>
                            <ul>
                                <li><strong>Ticket Integration:</strong> Launch remote sessions directly from tickets</li>
                                <li><strong>Monitoring Alerts:</strong> Remote access for critical alert response</li>
                                <li><strong>Patch Management:</strong> Remote installation of updates</li>
                                <li><strong>Script Deployment:</strong> Run scripts during remote sessions</li>
                                <li><strong>Asset Management:</strong> Remote inventory collection</li>
                                <li><strong>Customer Portal:</strong> Customer-initiated support sessions</li>
                            </ul>
                        </div>
                    </div>
                `
            }
        };

        // Training categories configuration - HYBRID APPROACH
        const TRAINING_CATEGORIES = {
            'exchange-lab': {
                id: 'exchange-lab',
                title: 'Exchange Hybrid LAB',
                icon: 'ðŸ§ª',
                type: 'lab', // Trackable progress
                description: 'Complete 4-week hands-on lab building Exchange Hybrid environment. Full progress tracking with sessions, completion rates, and detailed task management.',
                courses: [
                    'Week 1: Foundation & Domain Setup',
                    'Week 2: Infrastructure & Updates', 
                    'Week 3: Exchange & Mail Flow',
                    'Week 4: Hybrid & External Access'
                ]
            },
            'networking': {
                id: 'networking',
                title: 'Networking Guides',
                icon: 'ðŸŒ',
                type: 'tutorial', // Informational only
                description: 'Comprehensive step-by-step tutorials for network infrastructure, monitoring tools, and configurations. Reference materials for daily operations.',
                courses: [
                    'Setting up Zabbix monitoring server',
                    'Monitoring with Zabbix advanced features',
                    'Adding new hosts to Zabbix',
                    'Cisco ISR voice router configuration',
                    'Cisco monitored interfaces setup',
                    'PRTG 100 sensors free setup',
                    'DNS server configuration and management',
                    'Creating network diagrams in Visio/draw.io',
                    'Cisco backup automation via SSH/Telnet',
                    'Grandstream PBX setup and configuration',
                    'Grandstream RADIUS authentication for corporate WiFi',
                    'PuTTY configuration backup with syntax highlighting'
                ]
            },
            'azure': {
                id: 'azure',
                title: 'Microsoft Azure Guides',
                icon: 'â˜ï¸',
                type: 'tutorial',
                description: 'Complete step-by-step guides for Azure cloud services, security solutions, analytics, and infrastructure management.',
                courses: [
                    'Microsoft Defender for Servers deployment',
                    'Microsoft Defender for Cloud configuration',
                    'Microsoft Intune device management setup',
                    'Microsoft Sentinel SIEM configuration',
                    'Azure Firewall Standard vs Premium comparison',
                    'Log Analytics workspace setup and queries',
                    'Azure VM backup and restore procedures',
                    'Azure Site Recovery disaster recovery',
                    'Azure VPN setup: site-to-site vs point-to-site'
                ]
            },
            'microsoft365': {
                id: 'microsoft365',
                title: 'Microsoft 365 Guides',
                icon: 'ðŸ¢',
                type: 'tutorial',
                description: 'Comprehensive guides for Microsoft 365 administration, tenant management, and automation workflows.',
                courses: [
                    'Creating new M365 tenant for customers',
                    'Tenant migration and merger procedures',
                    'Send-as permissions configuration in 365',
                    'SharePoint Online landing page creation',
                    'Power Automate: shared mailbox to SharePoint flow',
                    'Exchange Online administration best practices'
                ]
            },
            'firewalls': {
                id: 'firewalls',
                title: 'Firewall Configuration Guides',
                icon: 'ðŸ”¥',
                type: 'tutorial',
                description: 'Detailed configuration guides for enterprise firewalls, security policies, and advanced network protection.',
                courses: [
                    'Sophos firewall initial setup and configuration',
                    'FortiGate firewall policy creation and management',
                    'FortiGate SD-WAN zone and member configuration',
                    'Custom IPsec VPN tunnel setup on FortiGate',
                    'SSL VPN integration with Azure Enterprise apps',
                    'FortiGate LDAP authentication configuration',
                    'Static routing configuration and troubleshooting',
                    'FortiGate setup from scratch - complete guide',
                    'DDNS configuration for LTE WAN sites',
                    'CLI debugging and diagnostics on FortiGate',
                    'Advanced CLI commands: set source and exec options'
                ]
            },
            'backup': {
                id: 'backup',
                title: 'Backup & Recovery Guides',
                icon: 'ðŸ’¾',
                type: 'tutorial',
                description: 'Comprehensive backup solution guides, monitoring tools, and disaster recovery strategies.',
                courses: [
                    'Veeam Backup & Replication setup and configuration',
                    'Backup monitoring with Backup Radar platform',
                    'Block64 reporting setup and automation'
                ]
            },
            'linux': {
                id: 'linux',
                title: 'Linux Administration Guides',
                icon: 'ðŸ§',
                type: 'tutorial',
                description: 'Linux system administration tutorials, server management, automation scripts, and security hardening.',
                courses: [
                    'Linux basics and system administration',
                    'Server configuration and service management',
                    'Shell scripting and task automation',
                    'System monitoring and log analysis',
                    'Package management across distributions',
                    'Security hardening and best practices'
                ]
            },
            'tools': {
                id: 'tools',
                title: 'MSP Tools Guides',
                icon: 'ðŸ› ï¸',
                type: 'tutorial',
                description: 'Professional MSP tool usage guides, remote access solutions, and automation techniques.',
                courses: [
                    'Atera: remote access via Splashtop integration',
                    'Atera: script management and automation',
                    'Atera: multi-customer environment management',
                    'Atera: alerting system and reporting setup'
                ]
            }
        };