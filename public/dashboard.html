<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Velocity Lab Exchange Hybrid Migration</title>
    <meta name="description" content="Track your progress through 42 hands-on tasks in Exchange hybrid migration training">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="/styles.css" as="style">
    <link rel="preload" href="/app.js" as="script">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/styles.css">
    
    <!-- Meta tags for sharing -->
    <meta property="og:title" content="Exchange Hybrid Migration Lab - Velocity Lab">
    <meta property="og:description" content="Professional MSP training for Exchange hybrid deployments">
    <meta property="og:type" content="website">
    
    <!-- Favicon -->
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    
    <!-- Additional CSS for dashboard-specific styles -->
    <style>
        /* Dashboard-specific enhancements */
        .dashboard-hero {
            background: linear-gradient(135deg, 
                rgba(0, 122, 255, 0.05) 0%, 
                rgba(52, 199, 89, 0.05) 50%, 
                rgba(255, 149, 0, 0.05) 100%);
            border-bottom: 1px solid var(--border);
        }
        
        .progress-ring {
            width: 120px;
            height: 120px;
            position: relative;
        }
        
        .progress-ring svg {
            width: 100%;
            height: 100%;
            transform: rotate(-90deg);
        }
        
        .progress-ring circle {
            fill: none;
            stroke-width: 8;
            r: 52;
            cx: 60;
            cy: 60;
        }
        
        .progress-ring .bg {
            stroke: var(--gray-200);
        }
        
        .progress-ring .progress {
            stroke: url(#progressGradient);
            stroke-linecap: round;
            stroke-dasharray: 327;
            stroke-dashoffset: 327;
            transition: stroke-dashoffset 1s cubic-bezier(0.34, 1.56, 0.64, 1);
        }
        
        .progress-percentage {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            color: var(--primary);
        }
        
        .week-expand-icon {
            transition: transform var(--transition-base);
        }
        
        .week-expand-icon.expanded {
            transform: rotate(180deg);
        }
        
        /* Task completion animations */
        @keyframes taskComplete {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .task-card.just-completed {
            animation: taskComplete 0.6s ease-out;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .hero-stats {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-4);
            }
            
            .progress-ring {
                width: 100px;
                height: 100px;
            }
            
            .progress-ring circle {
                r: 42;
                cx: 50;
                cy: 50;
            }
        }
    </style>
</head>
<body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Navigation -->
    <nav class="nav-glass">
        <div class="container">
            <div class="nav-content">
                <a href="/dashboard.html" class="nav-brand">
                    <svg class="nav-logo" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="40" height="40" rx="12" fill="url(#logoGradient)"/>
                        <path d="M12 20l6 6 10-10" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
                        <defs>
                            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#007aff"/>
                                <stop offset="100%" style="stop-color:#5ac8fa"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <span class="font-semibold text-xl">Velocity Lab</span>
                </a>
                
                <div class="nav-links">
                    <a href="/dashboard.html" class="nav-link">Dashboard</a>
                    <a href="/profile.html" class="nav-link">Profile</a>
                    <a href="/admin.html" class="nav-link" id="adminLink" style="display: none;">Admin</a>
                    <span class="text-sm text-secondary" id="userInfo">Loading...</span>
                    <button class="btn btn-secondary btn-sm" id="logout">Sign Out</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Dashboard Hero Section -->
        <section class="dashboard-hero">
            <div class="container">
                <div class="hero">
                    <div class="hero-badge">
                        🚀 Exchange Hybrid Migration Lab
                    </div>
                    
                    <h1 class="hero-title">
                        Master Hybrid Deployments
                    </h1>
                    
                    <p class="hero-subtitle">
                        Complete 42 hands-on tasks to become proficient in Exchange hybrid migrations. 
                        From Active Directory setup to Microsoft 365 integration.
                    </p>
                    
                    <!-- Progress Overview -->
                    <div class="hero-stats">
                        <div class="stat-item">
                            <div class="progress-ring">
                                <svg>
                                    <defs>
                                        <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#007aff"/>
                                            <stop offset="50%" style="stop-color:#5ac8fa"/>
                                            <stop offset="100%" style="stop-color:#34c759"/>
                                        </linearGradient>
                                    </defs>
                                    <circle class="bg" />
                                    <circle class="progress" id="progressRing" />
                                </svg>
                                <div class="progress-percentage" id="progressPercentage">0%</div>
                            </div>
                            <div class="stat-label">Overall Progress</div>
                        </div>
                        
                        <div class="stat-item">
                            <span class="stat-number" id="completedTasks">0</span>
                            <div class="stat-label">Tasks Completed</div>
                        </div>
                        
                        <div class="stat-item">
                            <span class="stat-number">42</span>
                            <div class="stat-label">Total Tasks</div>
                        </div>
                        
                        <div class="stat-item">
                            <span class="stat-number" id="currentWeek">Week 1</span>
                            <div class="stat-label">Current Focus</div>
                        </div>
                    </div>
                    
                    <div class="hero-actions">
                        <button class="btn btn-primary btn-lg" id="continueBtn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="5,3 19,12 5,21"></polygon>
                            </svg>
                            <span>Continue Learning</span>
                        </button>
                        
                        <button class="btn btn-secondary btn-lg" id="restartLabBtn">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="1,4 1,10 7,10"></polyline>
                                <path d="M3.51,15a9,9 0,0,0,2.13,3.09l1.67,-1.67"></path>
                                <path d="M13,5h8"></path>
                                <path d="M17,1l4,4-4,4"></path>
                            </svg>
                            <span>Start New Lab</span>
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Progress Section -->
        <section class="progress-section container">
            <div class="progress-header">
                <h3>Lab Progress</h3>
                <div class="text-sm text-secondary" id="progressText">
                    0% Completed (0/42 tasks)
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-fill" style="width: 0%"></div>
                </div>
            </div>
        </section>

        <!-- Week Grid -->
        <section class="container">
            <div class="weeks-grid-container">
                
                <!-- Week 1: Foundation Setup -->
                <div class="week-card" data-week="week1">
                    <div class="week-header">
                        <div class="week-badge">
                            <div class="week-number">1</div>
                            <div class="week-icon">🏗️</div>
                            <div>
                                <h4 class="week-title">Foundation Setup</h4>
                                <p class="week-description">Windows Server 2012 DC, domain joining, and network shares</p>
                            </div>
                        </div>
                        <div class="week-progress">
                            <span class="week-count" data-week="week1">0/12 tasks</span>
                            <div class="progress-bar">
                                <div class="progress-fill" data-week="week1" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="week-expand" data-week="week3">
                        <span class="expand-text">View Tasks</span>
                        <svg class="expand-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"></polyline>
                        </svg>
                    </div>
                    
                    <div class="tasks-container" data-week="week3">
                        <div class="tasks-grid">
                            <!-- Week 3 Tasks -->
                            <div class="task-card task" data-week="week3" data-task="backup-servers">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="backup-servers">
                                    <div>
                                        <h5 class="task-title">Backup Domain Controllers</h5>
                                        <p class="task-description">Create system state backups before major upgrades</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 25 min</span>
                                    <span>📋 5 steps</span>
                                    <span>💾 Backup</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="upgrade-dc1-2016">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="upgrade-dc1-2016">
                                    <div>
                                        <h5 class="task-title">Upgrade DC1 to Server 2016</h5>
                                        <p class="task-description">Perform in-place upgrade of primary domain controller</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 60 min</span>
                                    <span>📋 6 steps</span>
                                    <span>⬆️ Upgrade</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="upgrade-dc2-2016">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="upgrade-dc2-2016">
                                    <div>
                                        <h5 class="task-title">Upgrade DC2 to Server 2016</h5>
                                        <p class="task-description">Complete domain controller upgrade to Windows Server 2016</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 60 min</span>
                                    <span>📋 5 steps</span>
                                    <span>⬆️ Upgrade</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="raise-functional-levels">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="raise-functional-levels">
                                    <div>
                                        <h5 class="task-title">Raise Domain/Forest Functional Levels</h5>
                                        <p class="task-description">Enable Server 2016 features by raising functional levels</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 15 min</span>
                                    <span>📋 6 steps</span>
                                    <span>📈 Level Up</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="prepare-exchange-server">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="prepare-exchange-server">
                                    <div>
                                        <h5 class="task-title">Prepare Exchange Server VM</h5>
                                        <p class="task-description">Deploy and configure Windows Server 2016 for Exchange 2019</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 45 min</span>
                                    <span>📋 6 steps</span>
                                    <span>📧 Exchange</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="install-exchange-prereqs">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="install-exchange-prereqs">
                                    <div>
                                        <h5 class="task-title">Install Exchange Prerequisites</h5>
                                        <p class="task-description">Install required Windows features and components for Exchange 2019</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 40 min</span>
                                    <span>📋 5 steps</span>
                                    <span>⚙️ Prerequisites</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="extend-ad-schema">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="extend-ad-schema">
                                    <div>
                                        <h5 class="task-title">Extend Active Directory Schema</h5>
                                        <p class="task-description">Prepare Active Directory for Exchange 2019 installation</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 30 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🔧 Schema</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="install-exchange-2019">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="install-exchange-2019">
                                    <div>
                                        <h5 class="task-title">Install Exchange Server 2019</h5>
                                        <p class="task-description">Deploy Exchange 2019 with Mailbox and Client Access roles</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 90 min</span>
                                    <span>📋 8 steps</span>
                                    <span>📧 Exchange</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="configure-exchange-basic">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="configure-exchange-basic">
                                    <div>
                                        <h5 class="task-title">Configure Basic Exchange Settings</h5>
                                        <p class="task-description">Set up Exchange organization and initial configuration</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 35 min</span>
                                    <span>📋 6 steps</span>
                                    <span>⚙️ Config</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="create-mailboxes">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="create-mailboxes">
                                    <div>
                                        <h5 class="task-title">Create Test Mailboxes</h5>
                                        <p class="task-description">Set up user mailboxes for testing Exchange functionality</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 20 min</span>
                                    <span>📋 6 steps</span>
                                    <span>📫 Mailboxes</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="test-mailbox-access">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="test-mailbox-access">
                                    <div>
                                        <h5 class="task-title">Test Mailbox Access</h5>
                                        <p class="task-description">Verify Outlook Web Access and internal client connectivity</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 25 min</span>
                                    <span>📋 6 steps</span>
                                    <span>✅ Testing</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week3" data-task="configure-internal-mailflow">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week3" data-task="configure-internal-mailflow">
                                    <div>
                                        <h5 class="task-title">Configure Internal Mail Flow</h5>
                                        <p class="task-description">Set up proper mail routing and transport within organization</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 30 min</span>
                                    <span>📋 6 steps</span>
                                    <span>📮 Mail Flow</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Week 4: Cloud Integration -->
                <div class="week-card" data-week="week4">
                    <div class="week-header">
                        <div class="week-badge">
                            <div class="week-number">4</div>
                            <div class="week-icon">☁️</div>
                            <div>
                                <h4 class="week-title">Cloud Integration</h4>
                                <p class="week-description">External mail publishing and Microsoft 365 hybrid setup</p>
                            </div>
                        </div>
                        <div class="week-progress">
                            <span class="week-count" data-week="week4">0/10 tasks</span>
                            <div class="progress-bar">
                                <div class="progress-fill" data-week="week4" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="week-expand" data-week="week4">
                        <span class="expand-text">View Tasks</span>
                        <svg class="expand-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"></polyline>
                        </svg>
                    </div>
                    
                    <div class="tasks-container" data-week="week4">
                        <div class="tasks-grid">
                            <!-- Week 4 Tasks -->
                            <div class="task-card task" data-week="week4" data-task="configure-external-dns">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="configure-external-dns">
                                    <div>
                                        <h5 class="task-title">Configure External DNS Records</h5>
                                        <p class="task-description">Set up public DNS records for external mail flow and hybrid</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 30 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🌐 DNS</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week4" data-task="setup-firewall-rules">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="setup-firewall-rules">
                                    <div>
                                        <h5 class="task-title">Setup Firewall Rules</h5>
                                        <p class="task-description">Configure network firewall for Exchange external access</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 25 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🔥 Firewall</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week4" data-task="install-ssl-certificates">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="install-ssl-certificates">
                                    <div>
                                        <h5 class="task-title">Install SSL Certificates</h5>
                                        <p class="task-description">Deploy SSL certificates for secure external communication</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 40 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🔒 SSL</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week4" data-task="configure-external-mailflow">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="configure-external-mailflow">
                                    <div>
                                        <h5 class="task-title">Configure External Mail Flow</h5>
                                        <p class="task-description">Enable secure email communication with external organizations</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 35 min</span>
                                    <span>📋 6 steps</span>
                                    <span>📮 External Flow</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week4" data-task="setup-modern-auth">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="setup-modern-auth">
                                    <div>
                                        <h5 class="task-title">Setup Modern Authentication</h5>
                                        <p class="task-description">Enable OAuth and modern authentication for Office 365 integration</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 30 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🔐 OAuth</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week4" data-task="prepare-m365-tenant">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="prepare-m365-tenant">
                                    <div>
                                        <h5 class="task-title">Prepare Microsoft 365 Tenant</h5>
                                        <p class="task-description">Set up Office 365 tenant and verify domain ownership</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 45 min</span>
                                    <span>📋 6 steps</span>
                                    <span>☁️ M365</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week4" data-task="install-aad-connect">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="install-aad-connect">
                                    <div>
                                        <h5 class="task-title">Install Azure AD Connect</h5>
                                        <p class="task-description">Deploy directory synchronization between on-premises AD and Azure AD</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 50 min</span>
                                    <span>📋 7 steps</span>
                                    <span>🔗 AD Connect</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week4" data-task="run-hybrid-wizard">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="run-hybrid-wizard">
                                    <div>
                                        <h5 class="task-title">Run Exchange Hybrid Configuration Wizard</h5>
                                        <p class="task-description">Configure Exchange hybrid deployment for coexistence</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 60 min</span>
                                    <span>📋 7 steps</span>
                                    <span>🧙‍♂️ Wizard</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week4" data-task="configure-hybrid-mailflow">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="configure-hybrid-mailflow">
                                    <div>
                                        <h5 class="task-title">Configure Hybrid Mail Flow</h5>
                                        <p class="task-description">Set up mail routing between on-premises and cloud environments</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 40 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🔄 Hybrid Flow</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week4" data-task="verify-hybrid-functionality">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week4" data-task="verify-hybrid-functionality">
                                    <div>
                                        <h5 class="task-title">Verify Hybrid Functionality</h5>
                                        <p class="task-description">Test and validate all hybrid features and functionality</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 45 min</span>
                                    <span>📋 8 steps</span>
                                    <span>✅ Validation</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Task Modal -->
    <div class="modal" id="taskModal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Task Title</h2>
                <button class="modal-close" id="closeModal" aria-label="Close modal">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div id="modalDescription">
                    <!-- Task description content will be dynamically populated -->
                </div>
            </div>
        </div>
    </div>

    <!-- Notification System -->
    <div class="notification" id="notification" role="alert" aria-live="assertive">
        <!-- Dynamic notification content -->
    </div>

    <!-- Scripts -->
    <script src="/app.js"></script>
    
    <!-- Additional Dashboard JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Enhanced week expansion functionality
            const weekExpanders = document.querySelectorAll('.week-expand');
            weekExpanders.forEach(expander => {
                expander.addEventListener('click', function() {
                    const week = this.getAttribute('data-week');
                    const tasksContainer = document.querySelector(`.tasks-container[data-week="${week}"]`);
                    const expandIcon = this.querySelector('.expand-icon');
                    const expandText = this.querySelector('.expand-text');
                    
                    if (tasksContainer.classList.contains('show')) {
                        // Collapse
                        tasksContainer.classList.remove('show');
                        expandIcon.classList.remove('expanded');
                        expandText.textContent = 'View Tasks';
                        
                        // Smooth height transition
                        tasksContainer.style.maxHeight = '0px';
                    } else {
                        // Expand
                        tasksContainer.classList.add('show');
                        expandIcon.classList.add('expanded');
                        expandText.textContent = 'Hide Tasks';
                        
                        // Calculate and set max height for smooth transition
                        const scrollHeight = tasksContainer.scrollHeight;
                        tasksContainer.style.maxHeight = scrollHeight + 'px';
                        
                        // Scroll to week if needed
                        setTimeout(() => {
                            const weekCard = this.closest('.week-card');
                            weekCard.scrollIntoView({ 
                                behavior: 'smooth', 
                                block: 'start' 
                            });
                        }, 200);
                    }
                });
            });
            
            // Continue button functionality
            const continueBtn = document.getElementById('continueBtn');
            if (continueBtn) {
                continueBtn.addEventListener('click', function() {
                    // Find the first incomplete task and scroll to it
                    const incompleteTasks = document.querySelectorAll('.task-checkbox:not(:checked)');
                    if (incompleteTasks.length > 0) {
                        const firstIncompleteTask = incompleteTasks[0];
                        const week = firstIncompleteTask.getAttribute('data-week');
                        
                        // Expand the week if needed
                        const tasksContainer = document.querySelector(`.tasks-container[data-week="${week}"]`);
                        if (!tasksContainer.classList.contains('show')) {
                            const expander = document.querySelector(`.week-expand[data-week="${week}"]`);
                            if (expander) expander.click();
                        }
                        
                        // Scroll to the task
                        setTimeout(() => {
                            firstIncompleteTask.closest('.task-card').scrollIntoView({
                                behavior: 'smooth',
                                block: 'center'
                            });
                            
                            // Highlight the task briefly
                            const taskCard = firstIncompleteTask.closest('.task-card');
                            taskCard.style.transform = 'scale(1.02)';
                            taskCard.style.boxShadow = 'var(--shadow-lg)';
                            taskCard.style.borderColor = 'var(--primary)';
                            
                            setTimeout(() => {
                                taskCard.style.transform = '';
                                taskCard.style.boxShadow = '';
                                taskCard.style.borderColor = '';
                            }, 2000);
                        }, 300);
                    } else {
                        // All tasks complete!
                        window.VelocityLab.showNotification('🎉 All tasks completed! You\'re ready for production hybrid deployments!', 'success', 6000);
                    }
                });
            }
            
            // Enhanced progress ring animation
            function updateProgressRing(percentage) {
                const progressRing = document.getElementById('progressRing');
                const progressPercentage = document.getElementById('progressPercentage');
                
                if (progressRing && progressPercentage) {
                    const circumference = 2 * Math.PI * 52; // r=52 from CSS
                    const offset = circumference - (percentage / 100) * circumference;
                    
                    progressRing.style.strokeDashoffset = offset;
                    progressPercentage.textContent = Math.round(percentage) + '%';
                }
            }
            
            // Week progress calculation
            function updateWeekProgress() {
                Object.keys(window.VelocityLab.TASK_STRUCTURE).forEach(week => {
                    const tasks = window.VelocityLab.TASK_STRUCTURE[week].tasks;
                    const completedTasks = tasks.filter(task => {
                        const checkbox = document.querySelector(`input[data-week="${week}"][data-task="${task}"]`);
                        return checkbox && checkbox.checked;
                    }).length;
                    
                    const percentage = (completedTasks / tasks.length) * 100;
                    
                    // Update week progress bar
                    const weekProgressBar = document.querySelector(`.progress-fill[data-week="${week}"]`);
                    const weekCount = document.querySelector(`.week-count[data-week="${week}"]`);
                    
                    if (weekProgressBar) {
                        weekProgressBar.style.width = percentage + '%';
                    }
                    
                    if (weekCount) {
                        weekCount.textContent = `${completedTasks}/${tasks.length} tasks`;
                    }
                });
                
                // Update overall progress ring
                const totalCompleted = Array.from(document.querySelectorAll('.task-checkbox:checked')).length;
                const overallPercentage = (totalCompleted / 42) * 100;
                updateProgressRing(overallPercentage);
                
                // Update stats
                const completedTasksEl = document.getElementById('completedTasks');
                if (completedTasksEl) {
                    completedTasksEl.textContent = totalCompleted;
                }
                
                // Update current week
                const currentWeekEl = document.getElementById('currentWeek');
                if (currentWeekEl && totalCompleted < 42) {
                    if (totalCompleted < 12) currentWeekEl.textContent = 'Week 1';
                    else if (totalCompleted < 20) currentWeekEl.textContent = 'Week 2';
                    else if (totalCompleted < 32) currentWeekEl.textContent = 'Week 3';
                    else currentWeekEl.textContent = 'Week 4';
                } else if (currentWeekEl) {
                    currentWeekEl.textContent = 'Complete!';
                }
            }
            
            // Listen for task completion events
            document.addEventListener('change', function(e) {
                if (e.target.classList.contains('task-checkbox')) {
                    setTimeout(updateWeekProgress, 100); // Small delay to ensure state is updated
                }
            });
            
            // Initial progress calculation
            setTimeout(updateWeekProgress, 500);
            
            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // J/K for navigation like vim
                if (e.key === 'j' || e.key === 'ArrowDown') {
                    if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                        const checkbox = focused.querySelector('.task-checkbox');
                        if (checkbox) {
                            checkbox.checked = !checkbox.checked;
                            checkbox.dispatchEvent(new Event('change', { bubbles: true }));
                        }
                    }
                }
            });
            
            // Add focus outline styles for keyboard navigation
            const style = document.createElement('style');
            style.textContent = `
                .task-card.focused {
                    outline: 2px solid var(--primary);
                    outline-offset: 2px;
                    transform: translateY(-1px);
                    box-shadow: var(--shadow-md);
                }
            `;
            document.head.appendChild(style);
            
            console.log('🎯 Dashboard enhanced features loaded successfully!');
        });
    </script>
</body>
</html>const tasks = document.querySelectorAll('.task-card');
                        const current = document.querySelector('.task-card.focused') || tasks[0];
                        const currentIndex = Array.from(tasks).indexOf(current);
                        const next = tasks[currentIndex + 1] || tasks[0];
                        
                        current.classList.remove('focused');
                        next.classList.add('focused');
                        next.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
                
                if (e.key === 'k' || e.key === 'ArrowUp') {
                    if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                        e.preventDefault();
                        const tasks = document.querySelectorAll('.task-card');
                        const current = document.querySelector('.task-card.focused') || tasks[0];
                        const currentIndex = Array.from(tasks).indexOf(current);
                        const prev = tasks[currentIndex - 1] || tasks[tasks.length - 1];
                        
                        current.classList.remove('focused');
                        prev.classList.add('focused');
                        prev.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                }
                
                // Enter to open focused task
                if (e.key === 'Enter') {
                    const focused = document.querySelector('.task-card.focused');
                    if (focused && e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                        focused.click();
                    }
                }
                
                // Space to toggle focused task checkbox
                if (e.key === ' ') {
                    const focused = document.querySelector('.task-card.focused');
                    if (focused && e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                        e.preventDefault();
                        week="week1">
                        <span class="expand-text">View Tasks</span>
                        <svg class="expand-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"></polyline>
                        </svg>
                    </div>
                    
                    <div class="tasks-container" data-week="week1">
                        <div class="tasks-grid">
                            <!-- Week 1 Tasks -->
                            <div class="task-card task" data-week="week1" data-task="install-server2012">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="install-server2012">
                                    <div>
                                        <h5 class="task-title">Install Windows Server 2012</h5>
                                        <p class="task-description">Set up the foundation server for your domain controller</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 30 min</span>
                                    <span>📋 5 steps</span>
                                    <span>🎯 Foundation</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="configure-static-ip">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="configure-static-ip">
                                    <div>
                                        <h5 class="task-title">Configure Static IP Address</h5>
                                        <p class="task-description">Set up reliable static IP addressing for domain controller</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 15 min</span>
                                    <span>📋 7 steps</span>
                                    <span>🌐 Network</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="install-adds-role">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="install-adds-role">
                                    <div>
                                        <h5 class="task-title">Install Active Directory Domain Services Role</h5>
                                        <p class="task-description">Install the foundational AD DS role on Windows Server 2012</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 20 min</span>
                                    <span>📋 7 steps</span>
                                    <span>🔐 Identity</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="promote-to-dc">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="promote-to-dc">
                                    <div>
                                        <h5 class="task-title">Promote Server to Domain Controller</h5>
                                        <p class="task-description">Configure as primary DC with DNS services and create new forest</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 45 min</span>
                                    <span>📋 9 steps</span>
                                    <span>🏰 Domain</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="configure-dns-server">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="configure-dns-server">
                                    <div>
                                        <h5 class="task-title">Configure DNS Server Settings</h5>
                                        <p class="task-description">Set up DNS zones and ensure proper name resolution</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 25 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🌐 DNS</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="create-domain-users">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="create-domain-users">
                                    <div>
                                        <h5 class="task-title">Create Domain Users and OUs</h5>
                                        <p class="task-description">Set up organizational units and create test user accounts</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 30 min</span>
                                    <span>📋 6 steps</span>
                                    <span>👥 Users</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="setup-vm-dns">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="setup-vm-dns">
                                    <div>
                                        <h5 class="task-title">Configure VM DNS Settings</h5>
                                        <p class="task-description">Point virtual machine to use domain controller as DNS server</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 15 min</span>
                                    <span>📋 8 steps</span>
                                    <span>🖥️ Client</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="join-vm-domain">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="join-vm-domain">
                                    <div>
                                        <h5 class="task-title">Join VM to Domain</h5>
                                        <p class="task-description">Add virtual machine to domain for centralized management</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 20 min</span>
                                    <span>📋 8 steps</span>
                                    <span>🔗 Domain Join</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="create-hidden-share">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="create-hidden-share">
                                    <div>
                                        <h5 class="task-title">Create Hidden Network Share</h5>
                                        <p class="task-description">Set up centralized file storage with hidden share</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 25 min</span>
                                    <span>📋 8 steps</span>
                                    <span>📁 Shares</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="map-drive-gpo">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="map-drive-gpo">
                                    <div>
                                        <h5 class="task-title">Map Drive via Group Policy</h5>
                                        <p class="task-description">Configure automatic drive mapping through GPO preferences</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 35 min</span>
                                    <span>📋 8 steps</span>
                                    <span>📄 GPO</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="map-drive-script">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="map-drive-script">
                                    <div>
                                        <h5 class="task-title">Map Drive via Logon Script</h5>
                                        <p class="task-description">Create PowerShell logon script for automatic drive mapping</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 30 min</span>
                                    <span>📋 7 steps</span>
                                    <span>💻 Script</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week1" data-task="create-security-group">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week1" data-task="create-security-group">
                                    <div>
                                        <h5 class="task-title">Create Security Group for Share Access</h5>
                                        <p class="task-description">Implement role-based access control using AD security groups</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 25 min</span>
                                    <span>📋 8 steps</span>
                                    <span>🔒 Security</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Week 2: Infrastructure Expansion -->
                <div class="week-card" data-week="week2">
                    <div class="week-header">
                        <div class="week-badge">
                            <div class="week-number">2</div>
                            <div class="week-icon">🏢</div>
                            <div>
                                <h4 class="week-title">Infrastructure Expansion</h4>
                                <p class="week-description">Second DC, WSUS, and time synchronization</p>
                            </div>
                        </div>
                        <div class="week-progress">
                            <span class="week-count" data-week="week2">0/8 tasks</span>
                            <div class="progress-bar">
                                <div class="progress-fill" data-week="week2" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="week-expand" data-week="week2">
                        <span class="expand-text">View Tasks</span>
                        <svg class="expand-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6,9 12,15 18,9"></polyline>
                        </svg>
                    </div>
                    
                    <div class="tasks-container" data-week="week2">
                        <div class="tasks-grid">
                            <!-- Week 2 Tasks -->
                            <div class="task-card task" data-week="week2" data-task="install-second-server">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week2" data-task="install-second-server">
                                    <div>
                                        <h5 class="task-title">Install Second Windows Server 2012</h5>
                                        <p class="task-description">Deploy second server for redundancy and load distribution</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 35 min</span>
                                    <span>📋 5 steps</span>
                                    <span>🔄 Redundancy</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week2" data-task="promote-additional-dc">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week2" data-task="promote-additional-dc">
                                    <div>
                                        <h5 class="task-title">Promote to Additional Domain Controller</h5>
                                        <p class="task-description">Add redundancy with second domain controller</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 40 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🏰 Domain</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week2" data-task="install-wsus-role">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week2" data-task="install-wsus-role">
                                    <div>
                                        <h5 class="task-title">Install WSUS Role</h5>
                                        <p class="task-description">Deploy Windows Server Update Services for centralized updates</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 30 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🔄 Updates</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week2" data-task="configure-wsus-settings">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week2" data-task="configure-wsus-settings">
                                    <div>
                                        <h5 class="task-title">Configure WSUS Settings</h5>
                                        <p class="task-description">Set up update approval and client targeting policies</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 25 min</span>
                                    <span>📋 5 steps</span>
                                    <span>⚙️ Config</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week2" data-task="setup-wsus-gpo">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week2" data-task="setup-wsus-gpo">
                                    <div>
                                        <h5 class="task-title">Setup WSUS Group Policy</h5>
                                        <p class="task-description">Configure client update policies and automatic settings</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 35 min</span>
                                    <span>📋 7 steps</span>
                                    <span>📄 GPO</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week2" data-task="configure-primary-time">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week2" data-task="configure-primary-time">
                                    <div>
                                        <h5 class="task-title">Configure Primary Time Server</h5>
                                        <p class="task-description">Set PDC Emulator as authoritative time source with external NTP</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 20 min</span>
                                    <span>📋 6 steps</span>
                                    <span>🕒 Time</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week2" data-task="configure-secondary-time">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week2" data-task="configure-secondary-time">
                                    <div>
                                        <h5 class="task-title">Configure Secondary Time Server</h5>
                                        <p class="task-description">Set second DC as backup time source with domain hierarchy sync</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 15 min</span>
                                    <span>📋 5 steps</span>
                                    <span>🕓 Sync</span>
                                </div>
                            </div>
                            
                            <div class="task-card task" data-week="week2" data-task="test-infrastructure">
                                <div class="task-header">
                                    <input type="checkbox" class="task-checkbox" data-week="week2" data-task="test-infrastructure">
                                    <div>
                                        <h5 class="task-title">Test Infrastructure Setup</h5>
                                        <p class="task-description">Verify all services, replication, and connectivity</p>
                                    </div>
                                </div>
                                <div class="task-meta">
                                    <span>⏱️ 30 min</span>
                                    <span>📋 6 steps</span>
                                    <span>✅ Testing</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Week 3: Email & Messaging -->
                <div class="week-card" data-week="week3">
                    <div class="week-header">
                        <div class="week-badge">
                            <div class="week-number">3</div>
                            <div class="week-icon">📧</div>
                            <div>
                                <h4 class="week-title">Email & Messaging</h4>
                                <p class="week-description">Server 2016 upgrade and Exchange 2019 deployment</p>
                            </div>
                        </div>
                        <div class="week-progress">
                            <span class="week-count" data-week="week3">0/12 tasks</span>
                            <div class="progress-bar">
                                <div class="progress-fill" data-week="week3" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="week-expand" data-